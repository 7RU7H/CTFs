window.RAINIER=window.RAINIER||{};RAINIER.shared=RAINIER.shared||{};RAINIER.shared.account=RAINIER.shared.account||(function(){return{verifyReason:{alreadyUpdated:"alreadyUpdated",unhandled:"unhandled"},verify:function(b,a,c){a=(typeof a!=="function")?function(){return false}:a;c=(typeof c!=="function")?function(){return false}:c;var e=RAINIER.shared.account.verifyReason;var d={};d.verification={};d.verification.status="ACCEPTED";d.verification.parameters=[];RAINIER.cloud.send({url:"/cloud/user-service/rest/verifications/"+b+"/status/",type:"PUT",data:d,cb:a,cbError:function(f){var g=RAINIER.util.parseJSON(f.responseText);if(g&&g.errors[0].error.code==="VERIFICATION_STATUS_ALREADY_UPDATED"){return c(e.alreadyUpdated)}else{return c(e.unhandled)}}})}}}());RAINIER.shared.pingTests=(function(){var a={url:"http://connect.linksys.com/test.js",dataType:"script",init:function(){window.CISCO=window.CISCO||{};RAINIER.connectLinksysAnswer=0;window.CISCO.connectLinksysAnswer=0},test:function(){var e=RAINIER.connectLinksysAnswer||window.CISCO.connectLinksysAnswer;return e>0}};var b={url:"/cloud/ping.png",test:function(e){var f=/content-type:\s+image\/png/i;return f.test(e.getAllResponseHeaders())}};var c=[];c.push(b);if(!/https/i.test(window.location.protocol)){c.push(a)}function d(k,m,h){var g=window.$ajax||$.ajax,f=0,l=0;function e(i){return function(n){if(n.status===200){if(i.test(n)){f++;m(i,f,l)}else{l++;h(i,f,l)}}else{l++;h(i,f,l)}}}for(var j=0;j<k.length;j++){if(k[j].init){k[j].init()}g({url:RAINIER.shared.util.uniqueURL(k[j].url),dataType:k[j].dataType,timeout:15000,complete:e(k[j])})}}return{allTests:c,start:d}}());RAINIER.shared.util=RAINIER.shared.util||(function(){var t=/\%[0-9][0-9]/,e=/_[0-9]+$/;function b(z){var v,x,y=document.cookie.split(";");for(var w=0;w<y.length;w++){v=y[w].substr(0,y[w].indexOf("="));x=y[w].substr(y[w].indexOf("=")+1);v=v.replace(/^\s+|\s+$/g,"");if(v===z){return decodeURIComponent(x)}}}function s(B,C,A,E,y){var v=new Date();v.setDate(v.getDate()+A);var w=encodeURIComponent(C);var x=((!A)?"":"; expires="+v.toUTCString());var z=(!E)?"":"; path="+E;var D=(!y)?"":"; domain="+y;document.cookie=B+"="+w+x+z+D}function g(w,v){s(w,"",-1,"/",v)}function h(){s("are_cookies_enabled","enabled",null,"/");if(b("are_cookies_enabled")==="enabled"){g("are_cookies_enabled");return true}else{return false}}function q(){g("ui-proxy-path","."+window.location.host);g("ui-proxy-path")}function d(w){var v=encodeURIComponent(w).match(/%[89ABab]/g);return w.length+(v?v.length:0)}function n(x,v){var y=x.substring(0,x.length),z=d(y);for(var w=x.length-1;w>=0&&z>v;w--){y=x.substring(0,w);z=d(y)}return y}function k(w,x,v){if(w.addEventListener){w.addEventListener(x,v)}else{if(w.attachEvent){w.attachEvent("on"+x,v)}}}function a(y,w){var v="";function x(){v=y.value;if(RAINIER.shared.util.lengthInBytes(v)>w){y.value=RAINIER.shared.util.truncateToMaxBytes(v,w)}}k(y,"keyup",x);k(y,"blur",x)}function u(z,y,w,x){var v={action:"/jnap/ui/SetRemoteSetting",data:{isEnabled:y},cb:function(A){if(A.result==="OK"){if(typeof w==="function"){setTimeout(w,2500)}}}};if(x&&x.forceLocal){v.forceLocal=x.forceLocal}if(x&&x.disableDefaultAjaxErrHandler){v.disableDefaultAjaxErrHandler=x.disableDefaultAjaxErrHandler}if(x&&x.disableDefaultJnapErrHandler){v.disableDefaultJnapErrHandler=x.disableDefaultJnapErrHandler}z.send(v)}function m(v){RAINIER.jnap.send({action:"/jnap/core/IsAdminPasswordDefault",data:{},cb:function(x,w){if(x.result==="OK"){if(x.output.isAdminPasswordDefault){RAINIER.jnap.send({action:"/jnap/nodes/setup/IsAdminPasswordSetByUser",data:{},cb:function(z,y){if(z.result==="OK"){v(z.output.isAdminPasswordSetByUser)}else{}}})}else{v(true)}}else{}}})}function o(w,v){RAINIER.jnap.send({action:"/jnap/devicelist/GetDevices",data:{},cb:function(y){if(y.result==="OK"){var x=y.output.devices;for(var z=0;z<x.length;z++){if(x[z].isAuthority){w(x[z]);break}}}},disableDefaultJnapErrHandler:true,disableDefaultAjaxErrHandler:true,useAdminAuth:true,adminPasswordOverride:"Basic "+window.btoa("admin:"+v)})}function l(v,x){var w=(new RegExp(v+"=(.+?)(&|$)").exec(x.split("#")[0])||[,null])[1];return w?decodeURIComponent(w):w}function r(v){return l(v,location.search)}function j(v,z){var w=new RegExp("("+v+"=).*?(&|$)"),y=window.location.href,x=y.replace(w,"$1"+z+"$2");return x}function p(B){var A=RAINIER.jnapCache.get(RAINIER.jnapActions.getDeviceInfo());if(!A||!A.services){return false}var v=true,z,y,x,w;for(z=0;z<B.length&&v;z++){x=false;for(y=0;y<A.services.length;y++){w=A.services[y].replace("http://cisco.com","").replace("http://linksys.com","");if(B[z]===w){x=true;break}}v=v&&x}return v}function c(A,C){var z=null,v=null,x=[],B,y=0;for(y=0;y<A.radios.length;y++){v=A.radios[y];if(!x[v.band]){x[v.band]=1}else{x[v.band]+=1}if(!z&&v.radioID===C){z=RAINIER.shared.util.clone(v);z.labels={}}}if(A.isBandSteeringEnabled){if(A.bandSteeringMode==="TriBand"){z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bandSteering.TriBand)}if(A.bandSteeringMode==="Basic"){if(z.band==="5GHz"){z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bandSteering.Basic)}else{if(z.band==="2.4GHz"){z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["2.4"])}}}}else{if(RAINIER.network.isBehindNode()&&window.location.hash!=="#casupport"&&RAINIER.connect.getCurrentAppletId()!=="CD34B015-6EA6-4FE3-89CA-B47B6F18EF92"){if(A.combineNetworks){z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.velop.twoRadios)}else{if(z.band==="5GHz"){z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["5"])}else{if(z.band==="2.4GHz"){z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["2.4"])}}}}else{if(z.band==="2.4GHz"){z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["2.4"])}else{if(z.band==="5GHz"){if(x[z.band]>1){var D=1,w="";B=z.radioID.match(e);z.labels=RAINIER.shared.util.clone(RAINIER.ui.shared.strings.bands["5-indexed"]);if(B){D=B.toString().substr(1)}for(y=0;y<RAINIER.ui.shared.radioLabelSet.length;y++){w=RAINIER.ui.shared.radioLabelSet[y];z.labels[w]=z.labels[w].replace("{0}",D)}}else{z.labels=RAINIER.ui.shared.strings.bands["5"]}}}}}return z}function i(v){RAINIER.jnap.send({action:RAINIER.jnapActions.getDeviceInfo(),data:{},cb:function(x){var w=false;if(x.result==="OK"){w=_.find(x.output.services,function(y){return y.indexOf("/jnap/nodes/")!==-1})}v(!!w)},disableDefaultAjaxErrHandler:true})}return{getCiscoHNClientID:function(){return"BB426FA7-16A9-5C1C-55AF-63A4167B26AD"},getCurrentNetworkID:function(){return b("current-network-id")?b("current-network-id"):null},setCurrentNetworkID:function(v){return s("current-network-id",v,null,"/")},clearUIProxyPathCookie:q,setUIProxyPathCookie:function(v){g("ui-proxy-path","."+window.location.host);s("ui-proxy-path",v,null,"/")},signOutCookies:function(){g("admin-auth");g("user-auth-token");g("current-network-id");g("current-applet");q()},isAlphaNumeric:function(w){for(var v=0;v<w.length;v++){if(/[a-zA-Z0-9]/.test(w.charAt(v))===false){return false}}return true},isAscii:function(x){for(var v=0;v<x.length;v++){var w=x.charCodeAt(v);if(w<32||w>126){return false}}return true},isValidEmail:function(v){return null!==v.match(/^[0-9a-z$&'*+-=^_`.{|}~]+@[0-9a-z.-]+\.[a-z]{2,4}$/i)},lengthInBytes:d,truncateToMaxBytes:n,limitUTF8Field:a,ssidAppend:function(x,w){var v=32-(d(w));return n(x,v)+w},formatGuestSsid:function(w,v){return RAINIER.shared.util.ssidAppend(w,"-"+v)},getURLParameterFromQueryString:l,getURLParameter:r,replaceURLParameter:j,getEncodedURLParameter:function(v){var w=0,x=r(v);while(t.test(x)){x=decodeURIComponent(x);if(w===10){break}w++}return x},beginsOrEndsWithSpace:function(v){if(v.charAt(0)===" "||v.charAt(v.length-1)===" "){return true}return false},isAdminPasswordValid:function(v){if(v.length<1||v.length>64||!RAINIER.shared.util.isAscii(v)||RAINIER.shared.util.beginsOrEndsWithSpace(v)){return false}return true},clone:function(v){return JSON.parse(JSON.stringify(v))},uniqueURL:function f(v){return v+"?"+(new Date()).getTime()},getCookie:b,setCookie:s,deleteCookie:g,areCookiesEnabled:h,areServicesSupported:p,decodeHtml:function(w){var v=document.createElement("div");v.innerHTML=w;return v.firstChild.nodeValue},setRemoteSetting:u,checkIfNodeConfigured:m,getCurrentAuthorityDevice:o,getLabeledRadio:c,checkIsBehindNode:i}}());RAINIER.jnapCache=(function(){var a={};function b(d){return a[d]}function c(d,e){a[d]=e}return{get:b,set:c}}());RAINIER.jnapActions=(function(){function x(){if(RAINIER.shared.util.areServicesSupported(["/jnap/core/Core3"])){return"/jnap/core/SetAdminPassword2"}return"/jnap/core/SetAdminPassword"}function u(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router10"])){return"/jnap/router/GetWANSettings5"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router8"])){return"/jnap/router/GetWANSettings4"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router3"])){return"/jnap/router/GetWANSettings2"}return"/jnap/router/GetWANSettings"}function i(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router8"])){return"/jnap/router/SetWANSettings4"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router4"])){return"/jnap/router/SetWANSettings3"}if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router3"])){return"/jnap/router/SetWANSettings2"}return"/jnap/router/SetWANSettings"}function o(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router5"])){return"/jnap/router/GetWANStatus3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router3"])){return"/jnap/router/GetWANStatus2"}}return"/jnap/router/GetWANStatus"}function s(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router5"])){return"/jnap/router/GetIPv6Settings2"}return"/jnap/router/GetIPv6Settings"}function w(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/Router5"])){return"/jnap/router/SetIPv6Settings2"}return"/jnap/router/SetIPv6Settings"}function r(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/broadcom/RouterBroadcom"])){return"/jnap/router/broadcom/GetCTFSettings"}return"/jnap/router/GetCTFSettings"}function q(){if(RAINIER.shared.util.areServicesSupported(["/jnap/router/broadcom/RouterBroadcom"])){return"/jnap/router/broadcom/SetCTFSettings"}return"/jnap/router/SetCTFSettings"}function j(){return"/jnap/router/GetExpressForwardingSettings"}function g(){return"/jnap/router/SetExpressForwardingSettings"}function m(){return"/jnap/router/GetRoutingSettings"}function v(){return"/jnap/router/SetRoutingSettings"}function l(){if(RAINIER.shared.util.areServicesSupported(["/jnap/networkconnections/NetworkConnections2"])){return"/jnap/networkconnections/GetNetworkConnections2"}return"/jnap/networkconnections/GetNetworkConnections"}function h(){return"/jnap/core/GetDeviceInfo"}function d(){if(RAINIER.shared.util.areServicesSupported(["/jnap/devicelist/DeviceList4"])){return"/jnap/devicelist/GetDevices3"}return"/jnap/devicelist/GetDevices"}function z(){if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP4"])){return"/jnap/wirelessap/GetRadioInfo3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP3"])){return"/jnap/wirelessap/GetRadioInfo2"}}return"/jnap/wirelessap/GetRadioInfo"}function c(){if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork4"])){return"/jnap/guestnetwork/GetGuestRadioSettings2"}if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork3"])){return"/jnap/guestnetwork/GetGuestRadioSettings"}return"/jnap/guestnetwork/GetGuestNetworkSettings"}function f(){if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork4"])){return"/jnap/guestnetwork/SetGuestRadioSettings2"}if(RAINIER.shared.util.areServicesSupported(["/jnap/guestnetwork/GuestNetwork3"])){return"/jnap/guestnetwork/SetGuestRadioSettings"}return"/jnap/guestnetwork/SetGuestNetworkSettings"}function b(){if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP4"])){return"/jnap/wirelessap/SetRadioSettings3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/wirelessap/WirelessAP3"])){return"/jnap/wirelessap/SetRadioSettings2"}}return"/jnap/wirelessap/SetRadioSettings"}function p(){if(RAINIER.shared.util.areServicesSupported(["/jnap/ddns/DDNS3"])){return"/jnap/ddns/GetDDNSStatus2"}return"/jnap/ddns/GetDDNSStatus"}function t(){if(RAINIER.shared.util.areServicesSupported(["/jnap/routermanagement/RouterManagement2"])){return"/jnap/routermanagement/GetManagementSettings2"}return"/jnap/routermanagement/GetManagementSettings"}function a(){if(RAINIER.shared.util.areServicesSupported(["/jnap/routermanagement/RouterManagement2"])){return"/jnap/routermanagement/SetManagementSettings2"}return"/jnap/routermanagement/SetManagementSettings"}function y(){if(RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging3"])){return"/jnap/vlantagging/GetVLANTaggingSettings3"}else{if(RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging2"])){return"/jnap/vlantagging/GetVLANTaggingSettings2"}}return"/jnap/vlantagging/GetVLANTaggingSettings"}function e(){if(RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging3"])||RAINIER.shared.util.areServicesSupported(["/jnap/vlantagging/VLANTagging2"])){return"/jnap/vlantagging/SetVLANTaggingSettings2"}return"/jnap/vlantagging/SetVLANTaggingSettings"}function k(){if(RAINIER.shared.util.areServicesSupported(["/jnap/nodes/topologyoptimization/TopologyOptimization2"])){return"/jnap/nodes/topologyoptimization/GetTopologyOptimizationSettings2"}return"/jnap/nodes/topologyoptimization/GetTopologyOptimizationSettings"}function n(){if(RAINIER.shared.util.areServicesSupported(["/jnap/nodes/topologyoptimization/TopologyOptimization2"])){return"/jnap/nodes/topologyoptimization/SetTopologyOptimizationSettings2"}return"/jnap/nodes/topologyoptimization/SetTopologyOptimizationSettings"}return{setAdminPassword:x,getCTFSettings:r,setCTFSettings:q,getExpressForwardingSettings:j,setExpressForwardingSettings:g,getWANSettings:u,setWANSettings:i,getWANStatus:o,getIPv6Settings:s,setIPv6Settings:w,getRoutingSettings:m,setRoutingSettings:v,getNetworkConnections:l,getDeviceInfo:h,getDevices:d,getRadioInfo:z,setRadioSettings:b,getGuestRadioSettings:c,setGuestRadioSettings:f,getDDNSStatus:p,getManagementSettings:t,setManagementSettings:a,getVLANTaggingSettings:y,setVLANTaggingSettings:e,getTopologyOptimizationSettings:k,setTopologyOptimizationSettings:n}}());