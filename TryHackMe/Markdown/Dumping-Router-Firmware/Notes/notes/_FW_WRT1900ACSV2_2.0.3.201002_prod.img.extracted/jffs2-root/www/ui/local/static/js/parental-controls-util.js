window.RAINIER=window.RAINIER||{};RAINIER.applets=RAINIER.applets||{};RAINIER.applets.ParentalControls=RAINIER.applets.ParentalControls||(function(){function d(f,e){RAINIER.jnap.send("/jnap/parentalcontrol/GetParentalControlSettings",{},function(g){if(g.output){f=g.output;e(f)}else{}})}function c(f,e){RAINIER.ui.showWaiting();RAINIER.jnap.send("/jnap/parentalcontrol/SetParentalControlSettings",{isParentalControlEnabled:f.isParentalControlEnabled,rules:f.rules},function(g){RAINIER.ui.hideWaiting();if(g){}else{alert("SetParentalControlSettings function did not return any result.")}if(typeof e==="function"){e(f)}})}function a(e){var f="/jnap/networksecurity/GetSubscriptionStatus";RAINIER.jnap.send({action:f,data:{},cb:function(h){var g=false;if(h.result==="OK"){g=h.output.licenseID?true:false;console.warn("isSubscriptionActive",g);e(g)}else{e(false)}}})}function b(e,f){e=e.toLowerCase();e=e.replace(/\s/g,"");e=e.replace(/^(https?:\/{0,})?(www\.)?/i,"");var g=".com";while(e.length>0&&e.charAt(0)==="."){e=e.substring(1)}while(e.length>0&&e.charAt(e.length-1)==="."){e=e.substring(0,e.length-1)}while(e.indexOf("www.")===0){if(e==="www.com"){break}e=e.substring(4)}if(e.length>0){if(e.indexOf(".")===-1){e+=g}if(e.length>f){e=e.substring(0,f-g.length);e+=g}}return e}return{GetParentalControlSettings:d,SetParentalControlSettings:c,isShieldSubscriptionActive:a,formatBlockedURL:b}}());