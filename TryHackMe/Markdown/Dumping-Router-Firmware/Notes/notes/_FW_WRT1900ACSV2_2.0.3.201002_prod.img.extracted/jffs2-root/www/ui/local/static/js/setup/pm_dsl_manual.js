function goToNextPage(a){clearAllInputErrors();RAINIER.setup.goToVerifiedPage(a)}function validateInput(a,b){clearAllInputErrors();if(a.length===0){showInputValidationError("vpiInputValidation",true,RAINIER.setup.ui.inputRequired);return false}else{if(!isNumber(a)||parseInt(a)>255||parseInt(a)<0){showInputValidationError("vpiInputValidation",true,RAINIER.setup.ui.inputInvalid);return false}else{if(b.length===0){showInputValidationError("vciInputValidation",true,RAINIER.setup.ui.inputRequired);return false}else{if(!isNumber(b)||parseInt(b)>65535||parseInt(b)<0){showInputValidationError("vciInputValidation",true,RAINIER.setup.ui.inputInvalid);return false}}}}return true}function invalidSettings(){document.showElementById("validationErrorDiv")}function checkFailedConnection(){if(RAINIER.manualSettingsRetries>1){document.showElementById("connectionErrorDiv")}}function init(){RAINIER.shared.util.setCookie("manualSetup",true,null,"/");getDSLSettings(function(a){if(a.result==="OK"){if(RAINIER.PMSettings.dslSettings){document.getElementById("vpiInput").value=RAINIER.PMSettings.dslSettings.vpi;document.getElementById("vciInput").value=RAINIER.PMSettings.dslSettings.vci;document.getElementById("multiplexingSelect").value=RAINIER.PMSettings.dslSettings.multiplexing;if(RAINIER.PMSettings.dslSettings.wanType!=="Unsupported"){document.getElementById("internetTypeSelect").value=RAINIER.PMSettings.dslSettings.wanType}}showView("pmDSLManual");checkFailedConnection();checkManualInputs()}})}window.onload=function(){showView("loading");init()};function setManualDSLSettings(a,e,b){var d=document.getElementById("internetTypeSelect").value;RAINIER.PMSettings.dslSettings=RAINIER.PMSettings.dslSettings||{};RAINIER.PMSettings.dslSettings.vpi=parseInt(a);RAINIER.PMSettings.dslSettings.vci=parseInt(e);RAINIER.PMSettings.dslSettings.multiplexing=b;if(d!==""){RAINIER.PMSettings.dslSettings.wanType=d;RAINIER.shared.util.setCookie("dslSettings",JSON.stringify(RAINIER.PMSettings.dslSettings),null,"/");var c="pm_dsl_static";if(RAINIER.PMSettings.dslSettings.wanType==="PPPoE"||RAINIER.PMSettings.dslSettings.wanType==="PPPoA"){c="pm_dsl_settings"}goToNextPage(c)}}function setDslManual(){var a=document.getElementById("vpiInput").value,c=document.getElementById("vciInput").value,b=document.getElementById("multiplexingSelect").value;if(!validateInput(a,c)){showView("pmDSLManual");checkFailedConnection();return}else{showView("working");setManualDSLSettings(a,c,b)}}function onNext(){setTimeout(function(){setDslManual()},RAINIER.setup.UI_DELAY)}function checkManualInputs(){var b=document.getElementById("vpiInput").value,a=document.getElementById("vciInput").value;disableOrEnableNextButton(b,a)}window.onbeforeunload=function(){return RAINIER.shared.util.decodeHtml(RAINIER.setup.ui.confirmExit)};