(function(){var a=Function.prototype.call,e=Object.prototype,h=a.bind(e.toString),m=a.bind(e.hasOwnProperty);if(!Array.isArray)Array.isArray=function(a){return"[object Array]"==h(a)};if(!Array.prototype.forEach)Array.prototype.forEach=function(a,f){var g=p(this),c=0,e=g.length>>>0;if("[object Function]"!=h(a))throw new TypeError;for(;c<e;)c in g&&a.call(f,g[c],c,g),c++};if(!Array.prototype.map)Array.prototype.map=function(a,f){var g=p(this),c=g.length>>>0,e=Array(c);if("[object Function]"!=h(a))throw new TypeError;
for(var b=0;b<c;b++)b in g&&(e[b]=a.call(f,g[b],b,g));return e};if(!Array.prototype.filter)Array.prototype.filter=function(a,c){var g=p(this),f=g.length>>>0,e=[];if("[object Function]"!=h(a))throw new TypeError;for(var b=0;b<f;b++)b in g&&a.call(c,g[b],b,g)&&e.push(g[b]);return e};if(!Array.prototype.every)Array.prototype.every=function(a,c){var g=p(this),f=g.length>>>0;if("[object Function]"!=h(a))throw new TypeError;for(var b=0;b<f;b++)if(b in g&&!a.call(c,g[b],b,g))return!1;return!0};if(!Array.prototype.some)Array.prototype.some=
function(a,c){var f=p(this),b=f.length>>>0;if("[object Function]"!=h(a))throw new TypeError;for(var e=0;e<b;e++)if(e in f&&a.call(c,f[e],e,f))return!0;return!1};if(!Array.prototype.reduce)Array.prototype.reduce=function(a){var f=p(this),c=f.length>>>0;if("[object Function]"!=h(a))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;var b=0,e;if(2<=arguments.length)e=arguments[1];else{do{if(b in f){e=f[b++];break}if(++b>=c)throw new TypeError;}while(1)}for(;b<c;b++)b in f&&(e=a.call(void 0,
e,f[b],b,f));return e};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=function(a){var f=p(this),c=f.length>>>0;if("[object Function]"!=h(a))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;var b,c=c-1;if(2<=arguments.length)b=arguments[1];else{do{if(c in f){b=f[c--];break}if(0>--c)throw new TypeError;}while(1)}do c in this&&(b=a.call(void 0,b,f[c],c,f));while(c--);return b};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(a){var f=p(this),c=f.length>>>0;
if(!c)return-1;var b=0;1<arguments.length&&(b=i(arguments[1]));for(b=0<=b?b:c-Math.abs(b);b<c;b++)if(b in f&&f[b]===a)return b;return-1};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(a){var f=p(this),c=f.length>>>0;if(!c)return-1;var b=c-1;1<arguments.length&&(b=i(arguments[1]));for(b=0<=b?b:c-Math.abs(b);0<=b;b--)if(b in f&&a===f[b])return b;return-1};if(!Object.keys){var b=!0,f="toString,toLocaleString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,constructor".split(","),
c=f.length,A;for(A in{toString:null})b=!1;Object.keys=function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var e=[],g;for(g in a)m(a,g)&&e.push(g);if(b)for(g=0;g<c;g++){var i=f[g];m(a,i)&&e.push(i)}return e}}if(!Date.prototype.toISOString)Date.prototype.toISOString=function(){var a,b,f;if(!isFinite(this))throw new RangeError;a=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),
this.getUTCSeconds()];for(b=a.length;b--;)f=a[b],10>f&&(a[b]="0"+f);return a.slice(0,3).join("-")+"T"+a.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};if(!Date.now)Date.now=function(){return(new Date).getTime()};if(!Date.prototype.toJSON)Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError;return this.toISOString()};a="\t\n\u000b\u000c\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";
if(!String.prototype.trim||a.trim()){var a="["+a+"]",j=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$");String.prototype.trim=function(){return(""+this).replace(j,"").replace(u,"")}}var i=function(a){a=+a;a!==a?a=-1:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(0<a||-1)*Math.floor(Math.abs(a)));return a},z="a"!="a"[0],p=function(a){if(null==a)throw new TypeError;return z&&"string"==typeof a&&a?a.split(""):Object(a)}})();
(function(a,e){var h=!(!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor);h&&!a.browser.msie&&Object.defineProperty&&Object.prototype.__defineGetter__&&function(){try{var a=document.createElement("foo");Object.defineProperty(a,"bar",{get:function(){return!0}});h=!!a.bar}catch(f){h=!1}a=null}();Modernizr.objectAccessor=!(!(h||Object.prototype.__defineGetter__&&Object.prototype.__lookupSetter__)||a.browser.opera&&!(11<=e.browserVersion));Modernizr.advancedObjectProperties=h;
if(!h||!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor||!Object.defineProperty){var m=Function.prototype.call.bind(Object.prototype.hasOwnProperty);e.objectCreate=function(a,f,c,h){var j;j=function(){};j.prototype=a;j=new j;if(!h&&!("__proto__"in j)&&!Modernizr.objectAccessor)j.__proto__=a;f&&e.defineProperties(j,f);if(c)j.options=jQuery.extend(!0,{},j.options||{},c),c=j.options;j._create&&jQuery.isFunction(j._create)&&j._create(c);return j};e.defineProperties=function(a,
f){for(var c in f)m(f,c)&&e.defineProperty(a,c,f[c]);return a};e.defineProperty=function(a,f,c){if("object"!=typeof c||null===c)return a;if(m(c,"value"))return a[f]=c.value,a;a.__defineGetter__&&("function"==typeof c.get&&a.__defineGetter__(f,c.get),"function"==typeof c.set&&a.__defineSetter__(f,c.set));return a};e.getPrototypeOf=function(a){return Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__||a.constructor&&a.constructor.prototype};e.getOwnPropertyDescriptor=function(a,f){if("object"!==
typeof a&&"function"!==typeof a||null===a)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object");var c;if(Object.defineProperty&&Object.getOwnPropertyDescriptor)try{return c=Object.getOwnPropertyDescriptor(a,f)}catch(e){}c={configurable:!0,enumerable:!0,writable:!0,value:void 0};var j=a.__lookupGetter__&&a.__lookupGetter__(f),h=a.__lookupSetter__&&a.__lookupSetter__(f);if(!j&&!h){if(!m(a,f))return;c.value=a[f];return c}delete c.writable;delete c.value;c.get=c.set=void 0;if(j)c.get=
j;if(h)c.set=h;return c}}})(jQuery,jQuery.webshims);
(function(a,e,h){var m=e.audio&&e.video,b=!1;if(m)a=document.createElement("video"),e.videoBuffered="buffered"in a,b="loop"in a,h.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(",")),e.videoBuffered||(h.addPolyfill("mediaelement-native-fix",{f:"mediaelement",test:e.videoBuffered,d:["dom-support"]}),h.reTest("mediaelement-native-fix"));jQuery.webshims.register("mediaelement-core",function(a,c,e,h,u){var i=c.mediaelement,z=c.cfg.mediaelement,
p=function(o,e){var o=a(o),b={src:o.attr("src")||"",elem:o,srcProp:o.prop("src")};if(!b.src)return b;var l=o.attr("type");if(l)b.type=l,b.container=a.trim(l.split(";")[0]);else if(e||(e=o[0].nodeName.toLowerCase(),"source"==e&&(e=(o.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),l=i.getTypeForSrc(b.src,e))b.type=l,b.container=l,c.warn("you should always provide a proper mime-type using the source element. "+b.src+" detected as: "+l),a.nodeName(o[0],"source")&&o.attr("type",
l);if(l=o.attr("media"))b.media=l;return b},v=swfobject.hasFlashPlayerVersion("9.0.115"),y=function(){c.ready("mediaelement-swf",function(){if(!i.createSWF)c.modules["mediaelement-swf"].test=a.noop,c.reTest(["mediaelement-swf"],m)})};i.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv","f4a","fla"],"application/x-mpegURL":["m3u8",
"m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};i.mimeTypes.source=a.extend({},i.mimeTypes.audio,i.mimeTypes.video);i.getTypeForSrc=function(c,b){if(-1!=c.indexOf("youtube.com/watch?")||-1!=c.indexOf("youtube.com/v/"))return"video/youtube";
var c=c.split("?")[0].split("."),c=c[c.length-1],e;a.each(i.mimeTypes[b],function(a,b){if(-1!==b.indexOf(c))return e=a,!1});return e};i.srces=function(c,b){c=a(c);if(b)c.removeAttr("src").removeAttr("type").find("source").remove(),a.isArray(b)||(b=[b]),b.forEach(function(a){var b=h.createElement("source");"string"==typeof a&&(a={src:a});b.setAttribute("src",a.src);a.type&&b.setAttribute("type",a.type);a.media&&b.setAttribute("media",a.media);c.append(b)});else{var b=[],e=c[0].nodeName.toLowerCase(),
l=p(c,e);l.src?b.push(l):a("source",c).each(function(){l=p(this,e);l.src&&b.push(l)});return b}};a.fn.loadMediaSrc=function(c,b){return this.each(function(){b!==u&&(a(this).removeAttr("poster"),b&&a.attr(this,"poster",b));i.srces(this,c);a(this).mediaLoad()})};i.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
i.canSwfPlaySrces=function(c,b){var e="";v&&(c=a(c),b=b||i.srces(c),a.each(b,function(a,c){if(c.container&&c.src&&-1!=i.swfMimeTypes.indexOf(c.container))return e=c,!1}));return e};var g={};i.canNativePlaySrces=function(c,b){var e="";if(m){var c=a(c),l=(c[0].nodeName||"").toLowerCase();if(!g[l])return e;b=b||i.srces(c);a.each(b,function(a,b){if(b.type&&g[l].prop._supvalue.call(c[0],b.type))return e=b,!1})}return e};i.setError=function(b,e){e||(e="can't play sources");a(b).pause().data("mediaerror",
e);c.warn("mediaelementError: "+e);setTimeout(function(){a(b).data("mediaerror")&&a(b).trigger("mediaerror")},1)};var r=function(){var a;return function(b,e,f){c.ready("mediaelement-swf",function(){i.createSWF?i.createSWF(b,e,f):a||(a=!0,y(),r(b,e,f))})}}(),n=function(a,c,b,e,f){b||!1!==b&&c&&"flash"==c.isActive?(b=i.canSwfPlaySrces(a,e))?r(a,b,c):f?i.setError(a,!1):n(a,c,!1,e,!0):(b=i.canNativePlaySrces(a,e))?c&&"flash"==c.isActive&&i.setActive(a,"html5",c):f?(i.setError(a,!1),c&&"flash"==c.isActive&&
i.setActive(a,"html5",c)):n(a,c,!0,e,!0)},C=/^(?:embed|object|datalist)$/i,w=function(b,e){var g=c.data(b,"mediaelementBase")||c.data(b,"mediaelementBase",{}),l=i.srces(b),h=b.parentNode;clearTimeout(g.loadTimer);a.data(b,"mediaerror",!1);if(l.length&&h&&!(1!=h.nodeType||C.test(h.nodeName||"")))e=e||c.data(b,"mediaelement"),n(b,e,z.preferFlash||u,l)};a(h).bind("ended",function(e){var g=c.data(e.target,"mediaelement");(!b||g&&"html5"!=g.isActive||a.prop(e.target,"loop"))&&setTimeout(function(){!a.prop(e.target,
"paused")&&a.prop(e.target,"loop")&&a(e.target).prop("currentTime",0).play()},1)});b||c.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(b){var e=c.defineNodeNameProperty(b,"load",{prop:{value:function(){var a=c.data(this,"mediaelement");w(this,a);m&&(!a||"html5"==a.isActive)&&e.prop._supvalue&&e.prop._supvalue.apply(this,arguments)}}});g[b]=c.defineNodeNameProperty(b,"canPlayType",{prop:{value:function(c){var e="";m&&g[b].prop._supvalue&&(e=g[b].prop._supvalue.call(this,
c),"no"==e&&(e=""));!e&&v&&(c=a.trim((c||"").split(";")[0]),-1!=i.swfMimeTypes.indexOf(c)&&(e="maybe"));return e}}})});c.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,b=c.data(a,"mediaelementBase")||c.data(a,"mediaelementBase",{});clearTimeout(b.loadTimer);b.loadTimer=setTimeout(function(){w(a);a=null},9)}});m&&c.isReady("mediaelement-core",!0);c.addReady(function(b,e){a("video, audio",b).add(e.filter("video, audio")).each(function(){a.browser.msie&&8<c.browserVersion&&
a.prop(this,"paused")&&!a.prop(this,"readyState")&&a(this).is('audio[preload="none"][controls]:not([autoplay])')?a(this).prop("preload","metadata").mediaLoad():w(this);if(m){var b,e,g=this,i=function(){var b=a.prop(g,"buffered");if(b){for(var c="",e=0,i=b.length;e<i;e++)c+=b.end(e);return c}},h=function(){var b=i();b!=e&&(e=b,a(g).triggerHandler("progress"))};a(this).bind("play loadstart progress",function(a){"progress"==a.type&&(e=i());clearTimeout(b);b=setTimeout(h,999)}).bind("emptied stalled mediaerror abort suspend",
function(a){"emptied"==a.type&&(e=!1);clearTimeout(b)})}})});m&&v&&c.ready("WINDOWLOAD mediaelement",y)})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("mediaelement-swf",function(a,e,h,m,b,f){var c=e.mediaelement,A=h.swfobject,j=Modernizr.audio&&Modernizr.video,u=A.hasFlashPlayerVersion("9.0.115"),i=0,h={paused:!0,ended:!1,currentSrc:"",duration:h.NaN,readyState:0,networkState:0,videoHeight:0,videoWidth:0,error:null,buffered:{start:function(a){if(a)e.error("buffered index size error");else return 0},end:function(a){if(a)e.error("buffered index size error");else return 0},length:0}},z=Object.keys(h),p={currentTime:0,volume:1,
muted:!1};Object.keys(p);var v=a.extend({isActive:"html5",activating:"html5",wasSwfReady:!1,_bufferedEnd:0,_bufferedStart:0,_metadata:!1,_durationCalcs:-1,_callMeta:!1,currentTime:0,_ppFlag:b},h,p),y=/^jwplayer-/,g=function(a){if(a=m.getElementById(a.replace(y,"")))return a=e.data(a,"mediaelement"),"flash"==a.isActive?a:null},r=function(a){return(a=e.data(a,"mediaelement"))&&"flash"==a.isActive?a:null},n=function(k,d){d=a.Event(d);d.preventDefault();a.event.trigger(d,b,k)},C=f.playerPath||e.cfg.basePath+
"jwplayer/"+(f.playerName||"player.swf"),w=f.pluginPath||e.cfg.basePath+"swf/jwwebshims.swf";e.extendUNDEFProp(f.jwParams,{allowscriptaccess:"always",allowfullscreen:"true",wmode:"transparent"});e.extendUNDEFProp(f.jwVars,{screencolor:"ffffffff"});e.extendUNDEFProp(f.jwAttrs,{bgcolor:"#000000"});var o=function(k,d){var b=k.duration;if(!(b&&0<k._durationCalcs)){try{if(k.duration=k.jwapi.getPlaylist()[0].duration,!k.duration||0>=k.duration||k.duration===k._lastDuration)k.duration=b}catch(e){}k.duration&&
k.duration!=k._lastDuration?(n(k._elem,"durationchange"),("audio"==k._elemNodeName||k._callMeta)&&c.jwEvents.Model.META(a.extend({duration:k.duration},d),k),k._durationCalcs--):k._durationCalcs++}},s=function(a,d){3>a&&clearTimeout(d._canplaythroughTimer);if(3<=a&&3>d.readyState)d.readyState=a,n(d._elem,"canplay"),clearTimeout(d._canplaythroughTimer),d._canplaythroughTimer=setTimeout(function(){s(4,d)},4E3);if(4<=a&&4>d.readyState)d.readyState=a,n(d._elem,"canplaythrough");d.readyState=a};c.jwEvents=
{View:{PLAY:function(a){var d=g(a.id);if(d&&!d.stopPlayPause&&(d._ppFlag=!0,d.paused==a.state)){d.paused=!a.state;if(d.ended)d.ended=!1;n(d._elem,a.state?"play":"pause")}}},Model:{BUFFER:function(k){var d=g(k.id);if(d&&"percentage"in k&&d._bufferedEnd!=k.percentage){d.networkState=100==k.percentage?1:2;(isNaN(d.duration)||5<k.percentage&&25>k.percentage||100===k.percentage)&&o(d,k);if(d.ended)d.ended=!1;if(d.duration){2<k.percentage&&20>k.percentage?s(3,d):20<k.percentage&&s(4,d);if(d._bufferedEnd&&
d._bufferedEnd>k.percentage)d._bufferedStart=d.currentTime||0;d._bufferedEnd=k.percentage;d.buffered.length=1;if(100==k.percentage)d.networkState=1,s(4,d);a.event.trigger("progress",b,d._elem,!0)}}},META:function(a,d){if(d=d&&d.networkState?d:g(a.id))if("duration"in a){if(!d._metadata||!((!a.height||d.videoHeight==a.height)&&a.duration===d.duration)){d._metadata=!0;var b=d.duration;if(a.duration)d.duration=a.duration;d._lastDuration=d.duration;if(a.height||a.width)d.videoHeight=a.height||0,d.videoWidth=
a.width||0;if(!d.networkState)d.networkState=2;1>d.readyState&&s(1,d);d.duration&&b!==d.duration&&n(d._elem,"durationchange");n(d._elem,"loadedmetadata")}}else d._callMeta=!0},TIME:function(a){var d=g(a.id);if(d&&d.currentTime!==a.position){d.currentTime=a.position;d.duration&&d.duration<d.currentTime&&o(d,a);2>d.readyState&&s(2,d);if(d.ended)d.ended=!1;n(d._elem,"timeupdate")}},STATE:function(a){var d=g(a.id);if(d)switch(a.newstate){case "BUFFERING":if(d.ended)d.ended=!1;s(1,d);n(d._elem,"waiting");
break;case "PLAYING":d.paused=!1;d._ppFlag=!0;d.duration||o(d,a);3>d.readyState&&s(3,d);if(d.ended)d.ended=!1;n(d._elem,"playing");break;case "PAUSED":if(!d.paused&&!d.stopPlayPause)d.paused=!0,d._ppFlag=!0,n(d._elem,"pause");break;case "COMPLETED":4>d.readyState&&s(4,d),d.ended=!0,n(d._elem,"ended")}}},Controller:{ERROR:function(a){var d=g(a.id);d&&c.setError(d._elem,a.message)},SEEK:function(a){var d=g(a.id);if(d){if(d.ended)d.ended=!1;if(d.paused)try{d.jwapi.sendEvent("play","false")}catch(b){}if(d.currentTime!=
a.position)d.currentTime=a.position,n(d._elem,"timeupdate")}},VOLUME:function(a){var d=g(a.id);if(d&&(a=a.percentage/100,d.volume!=a))d.volume=a,n(d._elem,"volumechange")},MUTE:function(a){if(!a.state){var d=g(a.id);if(d&&d.muted!=a.state)d.muted=a.state,n(d._elem,"volumechange")}}}};var I=function(b){a.each(c.jwEvents,function(d,c){a.each(c,function(a){b.jwapi["add"+d+"Listener"](a,"jQuery.webshims.mediaelement.jwEvents."+d+"."+a)})})},l=function(c){c&&(c._ppFlag===b&&a.prop(c._elem,"autoplay")||
!c.paused)&&setTimeout(function(){if("flash"==c.isActive&&(c._ppFlag===b||!c.paused))try{a(c._elem).play()}catch(d){}},1)},J=function(b){if(b&&"video"==b._elemNodeName){var d,c,e,f,t,q,g,i,h=function(h,j){if(j&&h&&!(1>j||1>h||"flash"!=b.isActive))if(d&&(d.remove(),d=!1),f=h,t=j,clearTimeout(g),c="auto"==b._elem.style.width,e="auto"==b._elem.style.height,c||e){q=q||a(b._elem).getShadowElement();var l;c&&!e?(l=q.height(),h*=l/j,j=l):!c&&e&&(l=q.width(),j*=l/h,h=l);i=!0;setTimeout(function(){i=!1},9);
q.css({width:h,height:j})}},j=function(){if(!("flash"!=b.isActive||a.prop(b._elem,"readyState")&&a.prop(this,"videoWidth"))){var f=a.prop(b._elem,"poster");if(f&&(c="auto"==b._elem.style.width,e="auto"==b._elem.style.height,c||e))d&&(d.remove(),d=!1),d=a('<img style="position: absolute; height: auto; width: auto; top: 0px; left: 0px; visibility: hidden;" />'),d.bind("load error alreadycomplete",function(){clearTimeout(g);var b=this,c=b.naturalWidth||b.width||b.offsetWidth,e=b.naturalHeight||b.height||
b.offsetHeight;e&&c?(h(c,e),b=null):setTimeout(function(){c=b.naturalWidth||b.width||b.offsetWidth;e=b.naturalHeight||b.height||b.offsetHeight;h(c,e);d&&(d.remove(),d=!1);b=null},9);a(this).unbind()}).prop("src",f).appendTo("body").each(function(){this.complete||this.error?a(this).triggerHandler("alreadycomplete"):(clearTimeout(g),g=setTimeout(function(){a(b._elem).triggerHandler("error")},9999))})}};a(b._elem).bind("loadedmetadata",function(){h(a.prop(this,"videoWidth"),a.prop(this,"videoHeight"))}).bind("emptied",
j).bind("swfstageresize",function(){i||h(f,t)}).bind("emptied",function(){f=void 0;t=void 0}).triggerHandler("swfstageresize");j();a.prop(b._elem,"readyState")&&h(a.prop(b._elem,"videoWidth"),a.prop(b._elem,"videoHeight"))}};c.playerResize=function(b){b&&(b=m.getElementById(b.replace(y,"")))&&a(b).triggerHandler("swfstageresize")};a(m).bind("emptied",function(a){a=r(a.target);l(a)});var B;c.jwPlayerReady=function(b){var d=g(b.id);if(d&&d.jwapi){clearTimeout(B);d.jwData=b;d.shadowElem.removeClass("flashblocker-assumed");
d.wasSwfReady?a(d._elem).mediaLoad():(b=parseFloat(b.version,10),(5.6>b||6<=b)&&e.warn("mediaelement-swf is only testet with jwplayer 5.6+"),a.prop(d._elem,"volume",d.volume),a.prop(d._elem,"muted",d.muted),I(d));d.wasSwfReady=!0;var b=d.actionQueue.length,c=0,f;if(b&&"flash"==d.isActive)for(;d.actionQueue.length&&b>c;)c++,f=d.actionQueue.shift(),d.jwapi[f.fn].apply(d.jwapi,f.args);if(d.actionQueue.length)d.actionQueue=[];l(d)}};var D=a.noop;if(j){var K={play:1,playing:1},F="play,pause,playing,canplay,progress,waiting,ended,loadedmetadata,durationchange,emptied".split(","),
G=F.map(function(a){return a+".webshimspolyfill"}).join(" "),L=function(b){var d=e.data(b.target,"mediaelement");d&&(b.originalEvent&&b.originalEvent.type===b.type)==("flash"==d.activating)&&(b.stopImmediatePropagation(),K[b.type]&&d.isActive!=d.activating&&a(b.target).pause())},D=function(b){a(b).unbind(G).bind(G,L);F.forEach(function(a){e.moveToFirstEvent(b,a)})};D(m)}c.setActive=function(b,d,c){c||(c=e.data(b,"mediaelement"));if(c&&c.isActive!=d){"html5"!=d&&"flash"!=d&&e.warn("wrong type for mediaelement activating: "+
d);var f=e.data(b,"shadowData");c.activating=d;a(b).pause();c.isActive=d;"flash"==d?(f.shadowElement=f.shadowFocusElement=c.shadowElem[0],a(b).hide().getShadowElement().show()):(a(b).show().getShadowElement().hide(),f.shadowElement=f.shadowFocusElement=!1)}};var M=function(){var a="_bufferedEnd,_bufferedStart,_metadata,_ppFlag,currentSrc,currentTime,duration,ended,networkState,paused,videoHeight,videoWidth,_callMeta,_durationCalcs".split(","),b=a.length;return function(c){if(c){var e=b,f=c.networkState;
for(s(0,c);--e;)delete c[a[e]];c.actionQueue=[];c.buffered.length=0;f&&n(c._elem,"emptied")}}}(),H=function(b,d){var c=b._elem,e=b.shadowElem;a(c)[d?"addClass":"removeClass"]("webshims-controls");"audio"==b._elemNodeName&&!d?e.css({width:0,height:0}):e.css({width:c.style.width||a(c).width(),height:c.style.height||a(c).height()})};c.createSWF=function(b,d,g){if(u){1>i?i=1:i++;var h=a.extend({},f.jwVars,{image:a.prop(b,"poster")||"",file:d.srcProp}),l=a(b).data("jwvars")||{};if(g&&g.swfCreated)c.setActive(b,
"flash",g),M(g),g.currentSrc=d.srcProp,a.extend(h,l),f.changeJW(h,b,d,g,"load"),x(b,"sendEvent",["LOAD",h]);else{var t=a.prop(b,"controls"),q="jwplayer-"+e.getID(b),n=a.extend({},f.jwParams,a(b).data("jwparams")),m=b.nodeName.toLowerCase(),p=a.extend({},f.jwAttrs,{name:q,id:q},a(b).data("jwattrs")),o=a('<div class="polyfill-'+m+' polyfill-mediaelement" id="wrapper-'+q+'"><div id="'+q+'"></div>').css({position:"relative",overflow:"hidden"}),g=e.data(b,"mediaelement",e.objectCreate(v,{actionQueue:{value:[]},
shadowElem:{value:o},_elemNodeName:{value:m},_elem:{value:b},currentSrc:{value:d.srcProp},swfCreated:{value:!0},buffered:{value:{start:function(a){if(a>=g.buffered.length)e.error("buffered index size error");else return 0},end:function(a){if(a>=g.buffered.length)e.error("buffered index size error");else return(g.duration-g._bufferedStart)*g._bufferedEnd/100+g._bufferedStart},length:0}}}));H(g,t);o.insertBefore(b);j&&a.extend(g,{volume:a.prop(b,"volume"),muted:a.prop(b,"muted")});a.extend(h,{id:q,
controlbar:t?f.jwVars.controlbar||("video"==m?"over":"bottom"):"video"==m?"none":"bottom",icons:""+(t&&"video"==m)},l,{playerready:"jQuery.webshims.mediaelement.jwPlayerReady"});h.plugins=h.plugins?h.plugins+(","+w):w;e.addShadowDom(b,o);D(b);c.setActive(b,"flash",g);f.changeJW(h,b,d,g,"embed");J(g);A.embedSWF(C,q,"100%","100%","9.0.0",!1,h,n,p,function(d){if(d.success)g.jwapi=d.ref,t||a(d.ref).attr("tabindex","-1").css("outline","none"),setTimeout(function(){if(!d.ref.parentNode&&o[0].parentNode||
"none"==d.ref.style.display)o.addClass("flashblocker-assumed"),a(b).trigger("flashblocker"),e.warn("flashblocker assumed");a(d.ref).css({minHeight:"2px",minWidth:"2px",display:"block"})},9),B||(clearTimeout(B),B=setTimeout(function(){var b=a(d.ref);1<b[0].offsetWidth&&1<b[0].offsetHeight&&0===location.protocol.indexOf("file:")?e.error("Add your local development-directory to the local-trusted security sandbox:  http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html"):
(2>b[0].offsetWidth||2>b[0].offsetHeight)&&e.info("JS-SWF connection can't be established on hidden or unconnected flash objects")},8E3))})}}else setTimeout(function(){a(b).mediaLoad()},1)};var x=function(a,b,c,e){return(e=e||r(a))?(e.jwapi&&e.jwapi[b]?e.jwapi[b].apply(e.jwapi,c||[]):(e.actionQueue.push({fn:b,args:c}),10<e.actionQueue.length&&setTimeout(function(){5<e.actionQueue.length&&e.actionQueue.shift()},99)),e):!1};["audio","video"].forEach(function(b){var d={},c,f=function(a){"audio"==b&&
("videoHeight"==a||"videoWidth"==a)||(d[a]={get:function(){var b=r(this);return b?b[a]:j&&c[a].prop._supget?c[a].prop._supget.apply(this):v[a]},writeable:!1})},g=function(a,b){f(a);delete d[a].writeable;d[a].set=b};g("volume",function(a){var b=r(this);if(b){if(a*=100,!isNaN(a)){var d=b.muted;(0>a||100<a)&&e.error("volume greater or less than allowed "+a/100);x(this,"sendEvent",["VOLUME",a],b);if(d)try{b.jwapi.sendEvent("mute","true")}catch(f){}a/=100;if(!(b.volume==a||"flash"!=b.isActive))b.volume=
a,n(b._elem,"volumechange")}}else if(c.volume.prop._supset)return c.volume.prop._supset.apply(this,arguments)});g("muted",function(a){var b=r(this);if(b){if(a=!!a,x(this,"sendEvent",["mute",""+a],b),!(b.muted==a||"flash"!=b.isActive))b.muted=a,n(b._elem,"volumechange")}else if(c.muted.prop._supset)return c.muted.prop._supset.apply(this,arguments)});g("currentTime",function(a){var b=r(this);if(b){if(a*=1,!isNaN(a)){if(b.paused)clearTimeout(b.stopPlayPause),b.stopPlayPause=setTimeout(function(){b.paused=
!0;b.stopPlayPause=!1},50);x(this,"sendEvent",["SEEK",""+a],b);if(b.paused){if(0<b.readyState)b.currentTime=a,n(b._elem,"timeupdate");try{b.jwapi.sendEvent("play","false")}catch(d){}}}}else if(c.currentTime.prop._supset)return c.currentTime.prop._supset.apply(this,arguments)});["play","pause"].forEach(function(a){d[a]={value:function(){var b=r(this);if(b)b.stopPlayPause&&clearTimeout(b.stopPlayPause),x(this,"sendEvent",["play","play"==a],b),setTimeout(function(){if("flash"==b.isActive&&(b._ppFlag=
!0,b.paused!=("play"!=a)))b.paused="play"!=a,n(b._elem,a)},1);else if(c[a].prop._supvalue)return c[a].prop._supvalue.apply(this,arguments)}}});z.forEach(f);e.onNodeNamesPropertyModify(b,"controls",function(c,d){var f=r(this);a(this)[d?"addClass":"removeClass"]("webshims-controls");if(f){try{x(this,d?"showControls":"hideControls",[b],f)}catch(g){e.warn("you need to generate a crossdomain.xml")}"audio"==b&&H(f,d);a(f.jwapi).attr("tabindex",d?"0":"-1")}});c=e.defineNodeNameProperties(b,d,"prop")});if(u){var N=
a.cleanData,O=a.browser.msie&&9>e.browserVersion,P={object:1,OBJECT:1};a.cleanData=function(a){var b,c,e;if(a&&(c=a.length)&&i)for(b=0;b<c;b++)if(P[a[b].nodeName]){if("sendEvent"in a[b]){i--;try{a[b].sendEvent("play",!1)}catch(f){}}if(O)try{for(e in a[b])"function"==typeof a[b][e]&&(a[b][e]=null)}catch(g){}}return N.apply(this,arguments)}}if(!j){var E=m.createElement("a");["poster","src"].forEach(function(b){e.defineNodeNamesProperty("src"==b?["audio","video","source"]:["video"],b,{prop:{get:function(){var c=
this.getAttribute(b);if(null==c)return"";E.setAttribute("href",c+"");return!a.support.hrefNormalized?E.getAttribute("href",4):E.href},set:function(c){a.attr(this,b,c)}}})});["autoplay","controls"].forEach(function(a){e.defineNodeNamesBooleanProperty(["audio","video"],a)});e.defineNodeNamesProperties(["audio","video"],{HAVE_CURRENT_DATA:{value:2},HAVE_ENOUGH_DATA:{value:4},HAVE_FUTURE_DATA:{value:3},HAVE_METADATA:{value:1},HAVE_NOTHING:{value:0},NETWORK_EMPTY:{value:0},NETWORK_IDLE:{value:1},NETWORK_LOADING:{value:2},
NETWORK_NO_SOURCE:{value:3}},"prop")}});
