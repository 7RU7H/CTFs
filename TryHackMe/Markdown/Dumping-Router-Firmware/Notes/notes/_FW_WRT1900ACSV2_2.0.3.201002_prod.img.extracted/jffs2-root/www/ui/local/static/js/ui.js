if(!RAINIER){RAINIER={}}RAINIER.ui=RAINIER.ui||{};RAINIER.ui.validation=RAINIER.ui.validation||{};RAINIER.ui.allowDialogs=true;RAINIER.ui.init=function(a){function b(){window.dataLayer=window.dataLayer||[];window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});RAINIER.ui.testSafeGetScript("//www.googletagmanager.com/gtm.js?id=GTM-TBL4ZN")}$(document).ready(function(){if(!RAINIER.network.isAuthorityRemote()){$(document.body).addClass("local-mode")}if(RAINIER.network.uiLoadedFromCloud()){$("body").addClass("connection-remote");b()}else{$("body").addClass("connection-local");if($.cookie("admin-password-reset")){RAINIER.ui.herald.show("password-reset");RAINIER.shared.util.deleteCookie("admin-password-reset")}}$("#widget-copyright > *").clone().prependTo("#main-copyright");RAINIER.ui.Footer.initialize();if(RAINIER.network.isBehindNode()){$("html").addClass("node")}else{$("html").addClass("lswf-router")}RAINIER.network.checkInternetConnection(function(c){if(RAINIER.network.isRemoteSettingSupported()){$(document.body).addClass("embedded-ui-available")}if(!RAINIER.network.uiLoadedFromCloud()){if(!$.cookie("user-auth-token")){$(document.body).addClass("local-origin")}$(document.body).addClass(c?"online-mode":"offline-mode");if(RAINIER.network.isBridgeMode(RAINIER.network.getCurrentWanStatus().detectedWANType)){$("#cloud-access").remove();$("#routers-menu-title").parents("li").removeClass("menu-children");$("#routers-menu-title").parents("li").addClass("menu-zero-children");RAINIER.ui.unsupportedBridgeSections()}}else{$(document.body).addClass("online-mode");RAINIER.ui.survey()}if(!c){$("#appcenter-menu").remove()}if(!RAINIER.network.hasCloudAbility()){$(document.body).addClass("non-cloud-router")}else{$(document.body).addClass("cloud-router")}$("#dialog-overlay").hide();RAINIER.ui.hideMasterWaiting();RAINIER.event.fire("initialInternetCheckCompleted")});RAINIER.ui.textOrphan();RAINIER.event.connect(["applet.launched","dialog.open"],function(){RAINIER.ui.textOrphan()});RAINIER.event.connect("rainier.preventDialogs",function(){RAINIER.ui.allowDialogs=false});if(typeof a==="function"){a()}})};if(RAINIER.event){RAINIER.event.connect("RAINIER.network.initted",RAINIER.ui.init)}RAINIER.ui.herald=(function(){var d="-herald";function e(f){return"#"+f+d}function b(h){var f=e(h),i=$(f),g=i.find(".x-button");g.click(c.curry(h));i.show()}function c(g){var f=e(g),h=$(f);h.hide()}function a(){$(".herald").each(function(f,g){$(g).hide()})}return{show:b,close:c,closeAll:a}}());RAINIER.ui.unsupportedBridgeSections=function(){var b=$("#unsupportedBridgeSection"),c=b.find("p span"),a=RAINIER.ui.dialog("#unavailable-bridge-features");if(RAINIER.network.isBehindNode()){b.removeClass("hidden")}c.click(a.show)};RAINIER.ui.survey=function(){if(RAINIER.browser.ieVersion>-1&&RAINIER.browser.ieVersion<=8){return}var d=$("#feedback-survey-link"),c=$("#survey-container"),a=$(".survey-close"),b=RAINIER.ui.dialog("#survey-container",{parent:$("#survey-dialog-wrapper"),dismissOnClickOutside:true,onClose:function(){$("#survey-container > iframe").remove()}});d.click(function(){var e=document.createElement("iframe");e.src="https://belkin.co1.qualtrics.com/SE/?SID=SV_aVMLvL6Rt2xavvn&model="+RAINIER.network.getCurrentNetworkModelNumber()+"&firmwareVersion="+RAINIER.network.getCurrentNetworkFirmwareVersion()+"&Q_Language="+RAINIER.ui.language.getCurrentLocale().toUpperCase();e.onload=function(){a.show()};c.append(e);b.show()});a.click(function(){b.close()})};RAINIER.ui.fixIeForm=function(b){var a=$(b);if(!(a[0]&&a[0].tagName==="FIELDSET")){a=a.find("fieldset:visible")}a.each(function(){var h=0,g=100,c=$(this).find(".row:visible"),f=null,e=0,i=c.parent().width(),d=null;c.each(function(){d=$(this);if(this.tagName==="DIV"){f=d.children(":first:visible")[0];if(f){e=RAINIER.util.getTextLength(f.innerHTML,f);h=Math.max(h,e)}f=d.find("input, select, div.check-item")[0];if(f){g=Math.max(g,$(f).width())}}});h=Math.min(h+6,i-g-30);h=h+"px";c.each(function(){d=$(this);if(this.tagName==="DIV"){var j=d.children(":first:visible")[0];if(j){$(j).width(h)}}})})};RAINIER.ui.fixCustomControls=function(a){a.find("span.ui-radio,span.ui-checkbox").remove();a.find("input:[type=radio],input:[type=checkbox]").checkBox({hideInput:true,addVisualElement:true,addLabel:true})};RAINIER.ui.build=(function(){function c(d){return(typeof d==="string"||typeof d==="number")}function b(d){var f=document.createElement(d);var e=$($(f).outerHtml())[0];f=null;if(arguments[1]){if(c(arguments[1])){$(e).append(arguments[1])}else{if($.isArray(arguments[1])){$(e).append(arguments[1])}else{if(arguments[1].nodeType){$(e).append(arguments[1])}else{$.each(arguments[1],function(g,h){e[g==="class"?"className":g]=h})}}}}if(arguments[2]){$(e).append(arguments[2])}return e}function a(){var e="a br button div 61 h1 h2 h3 h4 h5 h6 iframe img input p pre span table tbody td th tr ul li".split(" ");var d={};e.forEach(function(f){d[f.toUpperCase()]=b.curry(f)});return d}return a()}());RAINIER.ui.associateButtons=function(d,b){var c=!b?null:$(b);function a(f){if((f.keyCode||f.which)!==RAINIER.util.keys.enter){return true}if(c&&!c.attr("disabled")){c.click()}return false}$(d).bind("keydown",a)};RAINIER.ui.onCheckChange=function(a,b){$(a).change(function(){var d=$(this);var c=setTimeout(function(){clearTimeout(c);c=null;b(d.attr("checked")==="checked",d)},100)})};RAINIER.ui.showAppletContainer=function(){$("#applet-container").css("visibility","visible")};RAINIER.ui.MainMenu=(function(){var c=$("#applet-shield-template").clone().attr({id:"","class":"applet-shield"});function d(l,k,m){k=k||"";if(l){var j=RAINIER.connect.AppletManager.getAppletById(l);if(j){RAINIER.ui.MainMenu.launchApplet(j,k,m)}else{console.warn("Cannot locate "+l)}}}function a(){RAINIER.ui.dialogSigningOut()}function h(l,k,n){k=k||"";var m=$("#applet-container"),j=l.url;RAINIER.ui.showMasterWaiting();RAINIER.ui.associateButtons("#applet-container input[type=text]");if(RAINIER.network.uiLoadedFromCloud()){RAINIER.cloud.send({url:"/cloud/metrics-service/rest/metrics/simple",type:"POST",data:{simpleMetrics:{name:"APPLET_LAUNCHED",value:l.appletId}},cb:function(){},cbError:function(o){return true}})}if(RAINIER.connect.getCurrentAppletId()!==""){RAINIER.event.fire("applet.unloaded")}RAINIER.connect.setCurrentAppletId(l.appletId);if(l.url.substring(l.url.length-9)==="main.html"){$.cookie("initial-tab",k,{expires:null,path:"/"});$.cookie("app-flag",n,{expires:null,path:"/"});m.empty().load(j,function(p,o,q){if(q.status!==200){if(q.status===0){RAINIER.ui.hideMasterWaiting(function(){if(RAINIER.network.isAuthorityRemote()){RAINIER.network.handleRemoteConnectionProblem(o)}else{if(q.statusText==="timeout"){a()}else{var r="loadAppletFailed";if(q&&q.getAllResponseHeaders().length>0){r+=" -- "+q.getAllResponseHeaders()}RAINIER.routerNotFoundDialog.show(r)}}})}else{if((q.status===404||q.status===502)&&RAINIER.network.uiLoadedFromCloud()){a()}else{RAINIER.ui.dialogError({result:"Applet load error",action:j})}}g()}else{if(p&&p.indexOf("div502Message")!==-1){window.location.replace("/ui/local/dynamic/502.html")}else{m.find("> article > section").append(c.clone());RAINIER.event.fire("applet.launched");$("#applet-container article header div.close-button").click(g);RAINIER.ui.fixCustomControls(m)}}})}else{}$("body").removeClass("main-view");e();if(l.menuItem){l.menuItem.addClass("selected")}else{$("#main-menu li").each(function(){if(this.innerText===l.name){$(this).addClass("selected")}})}$("body").addClass("applet-view");RAINIER.event.connect("applet.loaded",i);$("#nav-home").click(g)}function i(){$("#applet-container > article > section > .applet-shield").fadeOut(500);RAINIER.ui.hideMasterWaiting()}function e(){$("#main-menu > li > ul > li.selected").removeClass("selected")}function g(){RAINIER.event.fire("applet.unloaded");RAINIER.ui.inputBalloon.hide();RAINIER.event.disconnect("applet.loaded",i);RAINIER.connect.setCurrentAppletId("");$("body").removeClass("applet-view");$("#applet-container > article > section > .applet-shield").fadeIn(500);setTimeout(function(){e();$("body").addClass("main-view");RAINIER.event.fire("applet.closed")},500);$("#applet-container article header div.close-button").unbind("close");$("#nav-home").unbind("click");if(RAINIER.connect.shouldShowInternetRestoredDialog()){RAINIER.network.checkInternetConnection(function(j){if(j){RAINIER.connect.showInternetRestoredDialogIfNecessary()}})}}function f(){$(".close-panel").live("click",RAINIER.ui.MainMenu.closeApplet);var k=RAINIER.connect.AppletManager.getAppletList(),j=$("#main-menu"),l;j.show();k.forEach(function(m){if(m.url&&(!RAINIER.network.isBridgeMode()||m.enableInBridgeMode)&&!m.isAppletDisabled){l=b(m);if(document.getElementById(m.categoryId)===null){j.append($('<li id="{id}"><h2>{name}</h2><ul></ul></li>'.formatObj({id:m.categoryId,name:m.categoryName})))}$("#"+m.categoryId).find("ul").append(l)}});RAINIER.event.connect("applet.unsupportedFirmware",function(){RAINIER.ui.dialogServiceUnsupported()})}function b(j){j.root=j.url.replace("/main.html","");j.root=j.root.replace("/index.html","");var l='<li tooltip="{description}"><span id="{id}" style="background-image: url({root}/icon.png)" tooltip="{description}"></span>{name}</li>';var k=$(l.formatObj({root:j.root.replace(/dynamic/,"static"),description:j.description,name:j.name,id:"icon"+j.name.replace(" ","")}));k.click(function(){j.menuItem=k;h(j);k.addClass("selected");RAINIER.ui.herald.closeAll()});return k}return{initialize:f,launchApplet:h,launchAppletById:d,closeApplet:g}}());RAINIER.ui.TopMenu=(function(){var e=null,a=$("#routers-menu-title"),b=$("#routers-dropdown");function c(g,i,f){var h=null,j=i;if(f){h=$("<li>{friendlyName}</li>".formatObj({friendlyName:g}));h.click(function(){RAINIER.network.setCurrentNetworkID(j);window.location.reload()})}else{h=$("<li>{friendlyName} [{offline}]</li>".formatObj({friendlyName:g,offline:RAINIER.ui.common.strings.offlineLower}))}return h}function d(g){function i(l){if(!l){return}l.sort(function(o,n){if(o.networkAccountAssociation.network.networkId===RAINIER.network.getCurrentNetworkID()){return -1}else{if(n.networkAccountAssociation.network.networkId===RAINIER.network.getCurrentNetworkID()){return 1}else{var p=(o.networkAccountAssociation.network.friendlyName<n.networkAccountAssociation.network.friendlyName)?-1:(o.networkAccountAssociation.network.friendlyName===n.networkAccountAssociation.network.friendlyName?0:1);if(o.networkAccountAssociation.online&&n.networkAccountAssociation.online){return p}else{if(o.networkAccountAssociation.online){return -1}else{if(n.networkAccountAssociation.online){return 1}else{return p}}}}}});a.html("{0}".format(l[0].networkAccountAssociation.network.friendlyName));b.empty();if($.cookie("agent-remote-assistance-session")){a.parent("li").addClass("menu-zero-children");return}if(l.length>1){for(var m=1;m<l.length;m++){b.append(c(l[m].networkAccountAssociation.network.friendlyName,l[m].networkAccountAssociation.network.networkId,l[m].networkAccountAssociation.online))}}var k=$("#edit-name-item li").clone();k.click(function(){var n=RAINIER.connect.AppletManager.getAppletById("691E0149-A1D4-450C-9922-82CAA65B16C0")||RAINIER.connect.AppletManager.getAppletById("EEBEB3F4-5482-4DAE-8D77-1BA5AC7D19BE");if(n){RAINIER.ui.MainMenu.launchApplet(n,"","edit-authority")}});b.append(k)}i(g);RAINIER.event.connect("rainier.defaultNetworkRenamed",function(){RAINIER.network.updateUserDetails(i)});if(RAINIER.network.uiLoadedFromCloud()){if($.cookie("agent-remote-assistance-session")){$("#appcenter-menu").remove();$("#user-menu-my-account").remove()}else{RAINIER.ui.appMyAccount.assignClick("#user-menu-my-account")}RAINIER.ui.appStoreMenu.assignClick("#app-store-menu");$("#user-menu-title").text(RAINIER.network.getFormattedUserName())}else{$("#user-menu-my-account").remove()}$("#user-menu-about").click(h);$("#user-menu-sign-out").click(RAINIER.network.signOut);$("#appcenter-menu").click(function(){window.open("http://www.linksys.com/en-us/appcenter/")});function h(){if(e===null){if(RAINIER.network.uiLoadedFromCloud()){var k="ui_build_number / ";$("#about-dialog-cloud-version").html(k+RAINIER.network.getCloudVersion());if(RAINIER.network.getCurrentNetworkID()){$("#about-dialog-model-name").html(RAINIER.network.getCurrentNetworkModelNumber());$("#about-dialog-firmware-version").html(RAINIER.network.getCurrentNetworkFirmwareVersion())}else{$("#about-dialog-firmware").remove()}}else{$("#about-dialog-model-name").html(RAINIER.network.getCurrentNetworkModelNumber());$("#about-dialog-firmware-version").html(RAINIER.network.getCurrentNetworkFirmwareVersion());$("#about-dialog-cloud").remove()}e=RAINIER.ui.dialog("#user-menu-about-dialog");$("#user-menu-about-dialog .close-button").click(function(){e.close()})}e.show()}$("html").addClass(RAINIER.shared.ui.getModelDataFromIcon(RAINIER.network.getBaseNetworkModelNumber(),RAINIER.network.getCurrentNetworkHardwareVersion()));var j;function f(k){if(k&&k.originalEvent&&k.originalEvent.pointerType&&k.originalEvent.pointerType===k.originalEvent.MSPOINTER_TYPE_MOUSE){return}if(j&&this!==j[0]){j.removeClass("hover")}j=$(this);if(j.hasClass("hover")){setTimeout(function(){j.removeClass("hover")},500)}else{j.addClass("hover")}}if(window.navigator.msPointerEnabled){$(".menu-children").on("MSPointerDown",f)}else{$(".menu-children").on("touchstart",f)}}return{initialize:d}}());RAINIER.ui.Footer=(function(){var a=null,b=false;function e(){if(!b){a.show()}else{var f="http://www.linksys.com/us/support-article?articleNum=155199";window.open(f,"_blank")}}function d(){var g=$("html").attr("lang"),f="/cloud/ustatic/termsofservice/{0}.html".format(g);window.open(f,"_blank")}function c(){a=RAINIER.ui.dialog("#components #third-party-license-local",{});if(RAINIER.network.uiLoadedFromCloud()){$("a.terms-of-service").click(d)}else{$("a.terms-of-service + span.pipe, span.terms-of-service-wrapper, a.terms-of-service").hide()}$("a.terms-of-service-always-shown").click(d);$("a#third-party-licenses").click(e);$("a.terms-and-conditions").click(function(){var g=$("html").attr("lang"),f="/"+(RAINIER.network.uiLoadedFromCloud()?"cloud":"ui")+"/ustatic/eula/{0}.html".format(g);window.open(f,"_blank")});$("a.privacy-statement").click(function(){var g=$("html").attr("lang"),f="/cloud/ustatic/privacystatement/{0}.html".format(g);window.open(f,"_blank")});$("a#ookla-privacy-policy").click(function(){window.open("https://www.speedtest.net/privacy","_blank")});RAINIER.event.connect("rainier.wanConnected",function(){b=true});RAINIER.event.connect("rainier.wanDisconnected",function(){b=false});if(RAINIER.remote){RAINIER.remote.assistance.initialize();$("a.remote-assistance-links").click(RAINIER.remote.assistance.requestRemoteAssistancePin)}}return{initialize:c}}());RAINIER.ui.progressBar=(function(){var b="progress-bar",a="div."+b;var c=function(g,f){var d=false,e;if(g.length===0){e="update called but found no matching elems"}else{if(!g.hasClass(b)){e="update called on element that is not a progress bar"}else{if((f===undefined)||(isNaN(f))||(f<0)||(f>100)){e="update called invalid 'percent' value"}else{d=true}}}if(e){}return d};return{build:function(){var d=(typeof arguments[0]==="string"?("#"+arguments[0]):arguments[0])||a;$(d).html("<div></div>")},update:function(d){var f,e=d.percent;if(d.id!==undefined){f=$("#"+d.id)}else{if(d.element!==undefined){f=$(d.element)}else{f=$(a)}}if(!c(f,e)){return}f.find("div").css("width",e+"%")}}})();RAINIER.ui.signalStrength=(function(){var a="div.signal-strength",b="<ul><li></li><li></li><li></li><li></li><li></li></ul>";return{build:function(){$(a).append(b)}}})();RAINIER.ui.spinner=(function(){var a={build:function(b,c){b=b||"div.spinner";c=c||55;var d=$(b);d.addClass("spinner_"+c);return this.stop(b)},spin:function(b){b=b||"div.spinner";var c=55,d=$(b);if(d.hasClass("spinner_18")){c=18}d.html('<img class="animated-spinner" src="/ui/static/cache/images/spinner/Spinner_'+c+'.gif" />');return a},stop:function(b){b=b||"div.spinner";var c=55,d=$(b);if(d.hasClass("spinner_18")){c=18}return a}};return a})();RAINIER.ui.wait=function(a){if(!RAINIER.util.isNoE(RAINIER.ui.autoWaitHide)){clearTimeout(RAINIER.ui.autoWaitHide);RAINIER.ui.autoWaitHide=null}if(RAINIER.util.fixNoE(a,true)){RAINIER.ui.autoWaitHide=setTimeout(function(){RAINIER.ui.wait(false)},10000);RAINIER.ui.showWaiting()}else{RAINIER.ui.hideWaiting()}};RAINIER.ui.waitingMinTime=500;RAINIER.ui.waitingStart=0;RAINIER.ui.blockUI=function(){$("body").addClass("waiting-overlay-only");RAINIER.ui.showWaiting()};RAINIER.ui.unblockUI=function(){$("body").removeClass("waiting-overlay-only");RAINIER.ui.hideWaiting()};RAINIER.ui.showWaiting=function(){RAINIER.ui.inputBalloon.hide();RAINIER.ui.waitingStart=(new Date()).getTime();$("body").addClass("waiting")};RAINIER.ui.hideWaiting=function(a){if(!$("body").hasClass("waiting-overlay-only")){var b=RAINIER.ui.waitingMinTime-((new Date()).getTime()-RAINIER.ui.waitingStart);if(b<0){b=0}setTimeout(function(){$("body").removeClass("waiting");if($.isFunction(a)){a()}},b)}};RAINIER.ui.isWaiting=function(){return $("body").hasClass("waiting")};RAINIER.ui.masterWaitingMinTime=1000;RAINIER.ui.masterWaitingStart=0;RAINIER.ui.showMasterWaiting=function(){RAINIER.ui.masterWaitingStart=(new Date()).getTime();$("body").addClass("master-waiting")};RAINIER.ui.hideMasterWaiting=function(a){var b=RAINIER.ui.masterWaitingMinTime-((new Date()).getTime()-RAINIER.ui.masterWaitingStart);if(b<0){b=0}setTimeout(function(){$("body").removeClass("master-waiting");if($.isFunction(a)){a()}},b)};RAINIER.ui.isMasterWaiting=function(){return $("body").hasClass("master-waiting")};RAINIER.ui.switchTab=function(l,f,k,q,a){var e=(l==="tab"?".tab-content":".sub-tab-content"),c=(l==="tab"?k.parents("li"):k),o=c.index();if(!c.hasClass("selected")){var i=(l==="tab"?f.find("#"+c.data("id")):f.find(e).eq(o)),d=c.find("span"),p=i.attr("id"),n=f.find("li.selected:first"),g=n.index(),b=(g>-1?f.find(e).eq(g):null),m=(g>-1?n.find("span"):null),h=(g>-1?b.attr("id"):null),j=true;if(q.fireEvents){j=a.fire({type:l,destIdx:o,destTab:d,destContent:i,destTabId:p,srcIdx:g,srcTab:m,srcContent:b,srcTabId:h})}if(j){f.find(e).each(function(r){if(r!==o){$(this).hide()}});i.show();c.parents("ul").find("li").removeClass("selected");c.addClass("selected");RAINIER.event.fire("tab.changed",{destTabId:p})}}};RAINIER.ui.tabs=(function(){return{init:function(a){var b=null,c=0;a=a||{fireEvents:false,initialTab:""};if(!a.initialTab){a.initialTab=""}if(a.fireEvents){b=RAINIER.event.builder("tab.changed")}$("section.tab-section:not(.setup)").each(function(){var e=$(this);var d=e.find(".tabs li");d.each(function(g){var f=$(this),h=f.data("id");if((a.initialTab===""&&g===0)||a.initialTab===h){var i=e.find("#"+h).show();c=g;if(a.fireEvents){b.fireInit=b.fire.curry({type:"tab",destTab:f.find("span"),destIdx:g,destContent:i,destTabId:h,srcIdx:-1,srcContent:null,srcTabId:null})}RAINIER.event.fire("tab.changed",{destTabId:h})}});if(e.on){e.on("click",".tabs span",function(){RAINIER.ui.switchTab("tab",e,$(this),a,b)});e.find(".tabs span").eq(c).click();e.addClass("setup")}});$("div.sub-tab-section:not(.setup)").each(function(){var d=$(this);if(d.on){d.on("click",".sub-tabs li:not(.separator)",function(){RAINIER.ui.switchTab("subtab",d,$(this),a,b)});d.find(".sub-tabs li").eq(0).click();d.addClass("setup")}});return b}}})();$.extend(RAINIER.ui,{dialog:function(e,b){e=$(e);b=b||{};var l=b.parent?b.parent:$("#generic-dialog-wrapper"),i=b.dlgClass?b.dlgClass:"generic-dialog",g=b.dismissOnClickOutside||false,j=e.add(l),h=b.btns||e.find("> div.dialog-buttons"),d=$("#dialog-cache"),k=e.find(".dialog-body"),f={close:function(){console.warn("close failed")},show:function(){console.warn("show failed")},submit:function(){console.warn("submit failed")},isShowing:function(){console.warn("isShowing failed")}};e.addClass("dialog");if(e&&e.length){if(e.parent()[0]!==d[0]){var c=e[0].id,m=d.find("#"+c);if(c&&m.length){m.remove()}else{if(!c){console.warn("Dialog does not have id - so can not check for duplicates in cache")}}}}if(b.isError){if(l.children().length){return f}}if(b.width){e.css("width",b.width)}else{e.css("width",parseInt(k.css("width"))+(45*(k.hasClass("exclamation")?3:2)))}var a={close:function(){RAINIER.event.fire("dialog.close");if(RAINIER.browser.mobileSafariVersion===-1){RAINIER.ui.constrainKeysToEl.remove()}$("#dialog-cache").append(e);j.hide();$("body").removeClass(i);if(typeof b.onClose==="function"){b.onClose.call(e)}},show:function(){if(RAINIER.ui.allowDialogs){if(b.isError){if(l.children().length){return false}}RAINIER.ui.popmenu.hide(true);if(RAINIER.browser.mobileSafariVersion===-1){RAINIER.ui.constrainKeysToEl.add("#"+e.attr("id"))}if(!(l.children()&&(l.children().attr("id")===e.attr("id")))){l.empty().append(e);$("body").addClass(i);j.show();if(typeof b.onShow==="function"){b.onShow.call(e)}}RAINIER.event.fire("dialog.open");setTimeout(function(){RAINIER.ui.inputBalloon.hide()},100);setTimeout(function(){RAINIER.ui.unblockUI();RAINIER.ui.hideMasterWaiting();RAINIER.ui.hideWaiting()},250)}else{console.warn("ui - dialogs dissallowed")}},submit:function(){if(!b.cancelClose){this.close()}if(typeof b.onSubmit==="function"){b.onSubmit.call(e)}},cancel:function(){this.close();if(typeof b.onCancel==="function"){b.onCancel.call(e)}},isShowing:function(){if(e.length===0){return false}return l.children()&&(l.children().attr("id")===e.attr("id"))}};h.find("> .submit").unbind("click");h.find("> .submit").click(function(){a.submit()});h.find("> .cancel").unbind("click");h.find("> .cancel").click(function(){a.cancel()});if(g){l.unbind("click");l.click(function(){a.close()})}else{l.unbind("click")}return a},dialogGenericError:function(a,d){var b={parent:$("#error-dialog-wrapper"),dlgClass:"error-dialog",isError:true};var c=RAINIER.ui.dialog(a,b);if(!d){c.show()}return c},dialogRemoteUserLostConnection:function(){var b={parent:$("#error-dialog-wrapper"),dlgClass:"error-dialog",isError:true},a=$("#remote-user-lost-connection"),c=RAINIER.ui.dialog(a,b);$("#remote-user-lost-connection .retryButton").unbind("click");$("#remote-user-lost-connection .retryButton").click(function(){RAINIER.ui.showWaiting();RAINIER.connect.checkRouterConnection(function(d){RAINIER.ui.hideWaiting();if(d.status!==0){c.close()}})});c.show();return c},dialogRouterNotFound:function(e){var c={parent:$("#error-dialog-wrapper"),dlgClass:"error-dialog",isError:true},a=$("#router-not-found"),d=RAINIER.ui.dialog(a,c),b=d.show;d.show=function(f){if(!f){a.find("#router-not-found-details-link").hide()}else{a.find("#router-not-found-details").text(f)}b()};a.find("#router-not-found-details-link").unbind("click");a.find("#router-not-found-details-link").click(function(){a.toggleClass("hideDetails");a.toggleClass("showDetails")});if(!e){d.show()}return d},dialogSigningOut:function(){var a={parent:$("#error-dialog-wrapper"),dlgClass:"error-dialog",isError:true,onClose:function(){RAINIER.network.signOut()}};var b=RAINIER.ui.dialog($("#online-to-offline"),a);b.show();return b},dialogError:function(f,a,c){var d=$("#generic-error").clone(),h,e={parent:$("#error-dialog-wrapper"),dlgClass:"error-dialog",isError:true},g="";c=!!c;if(a){e.onClose=a}if(f){g=f.result?RAINIER.shared.ui.errorCode.errorStringToErrorCode(f.result.toString()):f.toString()}d.find("#generic-error-value").text(g);if(f&&f.action){var b=f.action;if(f.responseHeaders){b+=" -- "+f.responseHeaders}d.find("#generic-error-details").show();d.find("#generic-error-action").text(b)}else{d.find("#generic-error-details").hide()}if(!c){d.find("#ok").show();d.find("#retry").hide();d.find(".generic-error-technical-support").unbind("click");d.find(".generic-error-technical-support").click(function(){window.open("http://support.linksys.com/en-us/support")});d.find("#generic-error-details").unbind("click");d.find("#generic-error-details").click(function(){d.toggleClass("hideDetails");d.toggleClass("showDetails")})}else{d.find("#retry").show();d.find("#ok").hide();d.find(".signOut").unbind("click");d.find(".signOut").click(function(){RAINIER.network.signOut()});d.find(".retry").unbind("click");d.find(".retry").click(function(){window.location.reload()})}h=RAINIER.ui.dialog(d,e);h.show();return h},dialogWarning:function(a){var f=$("#generic-warning-dialog").clone(),d,b={parent:$("#error-dialog-wrapper"),dlgClass:"error-dialog",isError:true};var e=f.find(".submit");var c=f.find(".cancel");e.text(a.submit?a.submit:RAINIER.ui.button.strings.yes);c.text(a.cancel?a.cancel:RAINIER.ui.button.strings.no);if(a.onClose){b.onClose=a.onClose}if(a.onSubmit){b.onSubmit=a.onSubmit}if(a.onCancel){b.onCancel=a.onCancel}if(a.css){f.css(a.css)}e.css("display",a.hideSubmit?"none":"block");f.find(".warning-content").html((typeof a==="string")?a:a.msg);d=RAINIER.ui.dialog(f,b);d.show();return d},dialogServiceUnsupported:function(){var c=$("#firmware-update-required"),b,a={parent:$("#generic-dialog-wrapper"),dlgClass:"generic-dialog",onClose:function(){RAINIER.ui.MainMenu.closeApplet()}};b=RAINIER.ui.dialog(c,a);b.show()},dialogHelp:function(a){var c,b={parent:$("#help-dialog-wrapper"),dlgClass:"help-dialog"};c=RAINIER.ui.dialog(a,b);return c},alert:function(f,e,a){var c=$("#generic-alert-dialog").clone(),d,b={parent:$("#error-dialog-wrapper"),dlgClass:"error-dialog",isError:true};c.find(".warning-content").html(RAINIER.util.padIfNotNull("<h2>",e,"</h2>")+"<div>"+f+"<br/></div>");if(a){b.onClose=a}d=RAINIER.ui.dialog(c,b);d.show();c.find(".cancel").focus();return d}});RAINIER.ui.tooltip=(function(){var i=0,p,k,d=5,h=8,f=null,l=null;function m(){if(p.is(":visible")){RAINIER.ui.tooltip.setLocation(false,p,k,h,d)}}function j(){p=$("#global-tooltip");if(!p||!p.length){setTimeout(j,1000)}$("#scroll-container").scroll(m)}function n(){p.appendTo($("body"));var s=$(this),r='<div class="tip"></div>'+RAINIER.util.htmlEncode(s.attr("tooltip"));if(r){i=setTimeout(function(){if(s===k){p.html(r);RAINIER.ui.tooltip.setLocation(false,p,k,h,d)}},1000)}k=s}function g(){if(i){clearTimeout(i);i=null}}function a(){g();p.fadeOut()}function b(){g();p.hide()}function q(s,r){if(typeof r==="string"){r=$(r)}r[s]({click:b,mouseenter:n,mouseleave:a})}function c(t,r){var s=$(t).container();if(r&&s){s.addClass("tooltip-"+r)}q.apply(this,["on"].concat(Array.prototype.slice.apply(arguments)))}function o(){q.apply(this,["off"].concat(Array.prototype.slice.apply(arguments)))}function e(w,F,t,u,s,z,G){function E(I,M){var K=I.left+I.width,L=I.top+I.height,H=M.left+M.width,J=M.top+M.height;return(K<H||L<J)}if(!t){return}z=z||true;var r=t.container(),B=t.coords(),v=false,D=false,C=false,x=t.offset(),y=t.getZIndex(),A=RAINIER.ui.getDirection();if((!r)||(y<0)){return}if(!G){F.css("width","10px").css("width","auto").fadeIn()}if(!z){t[0].scrollIntoView(true)}B.width=F.outerWidth();B.top+=((t.outerHeight()-F.outerHeight())/2)-r.scrollTop();B.right=B.left-F.outerWidth()-s;B.left+=t.outerWidth()+s-r.scrollLeft();if(r.hasClass("tooltip-side")){if(A==="rtl"){if(B.right<0){v=true}else{D=true}}else{if(B.left+B.width>$(window).width()){D=true}else{v=true}}}else{if(r.hasClass("tooltip-top")){C=true}else{if(E(r.coords(),B)){C=true}else{v=true}}}if(v||D){x.top=B.top;x.left=(v)?B.left:B.right;if(t.is("input")&&!$.browser.msie){x.top+=8}}else{if(C){x.top-=F.outerHeight()+u;x.left+=((t.outerWidth()-F.outerWidth())/2)}}F.css(x);F.toggleClass("left",v).toggleClass("down",C).toggleClass("right",D);if(!G){l={isValidationBalloon:w,tooltip:F,el:t,vertPad:u,horzPad:s,disableScrollIntoView:z};if(f){RAINIER.util.closeTimer(f)}f=setTimeout(function(){e(w,F,t,u,s,z,true);RAINIER.util.closeTimer(f)},500)}}$(window).resize(function(){if(l){e(l.isValidationBalloon,l.tooltip,l.el,l.vertPad,l.horzPad,l.disableScrollIntoView,true)}});return{init:j,add:c,remove:o,setLocation:e}}());RAINIER.ui.popmenu=(function(){var y=0,b,A=null,s=null,v=5,n=8,t=null,u=null,w=false;function B(){return b.is(":visible")}function e(){if(B()){RAINIER.ui.popmenu.setLocation(b,A,n,v)}}function p(){b=$("#global-popmenu");if(!b||!b.length){setTimeout(p,1000)}$(document).click(function(D){var C=$(D.srcElement);if(!C.hasClass("popmenu-visible")){f()}});$("#scroll-container").scroll(e)}function l(D){var C=$(this);if(!B()||C.attr("id")!==s){b.appendTo($("body"));y=setTimeout(function(){if(C===A){RAINIER.ui.popmenu.setLocation(b,A,n,v)}},100);if(A){A.removeClass("popmenu")}A=C;s=C.attr("id")}else{f()}$.cancelEvents(D)}function j(){if(y){clearTimeout(y);y=null}}function i(){j();if(A){A.removeClass("popmenu")}b.hide()}function f(C){if(C){if(w){m()}i()}else{if(!w){setTimeout(function(){if(!w){i()}},150)}}}function q(D,C){if(typeof C==="string"){C=$(C)}C[D]({click:l})}function x(E,C,F,G){var D=$(E);if(C&&D){if(G){E.unbind("click");E.click(G)}D.addClass("popmenu-"+C)}q.apply(this,["on"].concat(Array.prototype.slice.apply(arguments)));if(F){D.data("popmenu-contents",F)}if(B()&&D.attr("id")===s){s=null;D.click()}}function o(){q.apply(this,["off"].concat(Array.prototype.slice.apply(arguments)))}function k(F){var E=F.data("popmenu-actions"),C,D,G;$.each(E,function(H,I){G="#"+I.id;D="block";if(!!I.hidden){D="none"}b.find(G).parents("li").css("display",D);if(!!I.greyed){b.find(G).prop("disabled","disabled").addClass("disabled").unbind("click")}else{C=window;$.each(I.action.split("."),function(J,K){C=C[K]});b.find(G).click(C.curry(F))}})}function d(E,F,G,D,K,Q){function P(S,W){var U=S.left+S.width,V=S.top+S.height,R=W.left+W.width,T=W.top+W.height;return(U<R||V<T)}if(!F){return}K=K||true;var C=F,M=F.coords(),H=false,O=false,N=false,I=F.offset(),J=F.getZIndex();if((!C)||(J<0)){return}if(!Q){var L=C.data("popmenu-contents");b.find("#contents").empty().append(L);k(C);C.addClass("popmenu");b.fadeIn()}if(!K){F[0].scrollIntoView(true)}M.width=E.outerWidth();M.top=F.offset().top;M.left+=F.outerWidth()+D-C.scrollLeft();M.right=M.left-F.outerWidth()-D-M.width;if(C.hasClass("popmenu-side")){H=true}else{if(C.hasClass("popmenu-top")){N=true}else{if(P(C.coords(),M)){N=true}else{H=true}}}if(H&&P(C.parents("article").coords(),M)){H=false;O=true}if(H){I.top=M.top;I.left=M.left}else{if(O){I.top=M.top;I.left=M.right}else{if(N){I.top-=E.outerHeight()+G;I.left+=((F.outerWidth()-E.outerWidth())/2)}}}E.css(I);E.toggleClass("left",H).toggleClass("right",O).toggleClass("down",N);if(!Q){u={isValidationBalloon:false,popmenu:E,el:F,vertPad:G,horzPad:D,disableScrollIntoView:K};t=setTimeout(function(){d(E,F,G,D,K,true);clearTimeout(t)},500)}}function z(){if(A){if(!B()){A.click()}b.find("a").prop("disabled","disabled").addClass("disabled");b.find("a").unbind("click");w=true}}function m(){b.find("a").removeProp("disabled").removeClass("disabled");console.warn("_unlockMenu",A);k(A);w=false}function g(D,C){D.data("popmenu-actions",C)}function r(D,H,F,E){var G=[],C=D.data("popmenu-actions");$.each(C,function(I,J){if("#"+J.id===H){G.push({id:J.id,action:J.action,hidden:F,greyed:E})}else{G.push({id:J.id,action:J.action,hidden:J.hidden,greyed:J.greyed})}});D.data("popmenu-actions",G)}function h(D,C){b.find(D).parents("li").css("display","block");if(C){r(C,D,false)}}function c(D,C){b.find(D).parents("li").css("display","none");if(C){r(C,D,true)}}function a(){var C=null;if(B()&&!A.is(":visible")){f()}else{C=A;s=null;A.click()}return C}$(window).resize(function(){if(u){d(u.popmenu,u.el,u.vertPad,u.horzPad,u.disableScrollIntoView,true)}});return{init:p,add:x,remove:o,hide:f,isOpen:B,checkState:a,setLocation:d,lockMenu:z,unlockMenu:m,updateLnkEvents:g,hideLnk:c,showLnk:h}}());RAINIER.ui.getTextWidth=function(d,b){var e="textWidthTest",c=$("#"+e),a;if(c.length===0){c=$("body").append('<div id="'+e+'" style="position:absolute;color:transparent;display:block;"></div>').find("#"+e).eq(0)}c.html(d);$.each(b,function(f,g){c.css(f,g)});a=c.get(0).offsetWidth;c.remove();return a};RAINIER.ui.getDeviceIcon=function(a){return deviceManager.findDeviceIcon(a.data)};$.extend(RAINIER.ui.validation,(function(){var f={alpha:function(){return{message:RAINIER.ui.validation.strings.validCharacters,when:true,test:/[A-Za-z]/}},numeric:function(){return{message:RAINIER.ui.validation.strings.validNumbers,when:true,test:/[0-9]/}},leadingWhitespace:function(){return{message:RAINIER.ui.validation.strings.leadingWhitespace,when:true,test:/^\s/}},trailingWhitespace:function(){return{message:RAINIER.ui.validation.strings.trailingWhitespace,when:true,test:/\s$/}}},b={alpha:/[A-Za-z]/,numeric:/[0-9]/,hasLeadingWhitespace:/^\s/,hasTrailingWhitespace:/\s$/,isBlank:/^$/,isLengthTooLong:function(h,i){return !!i&&i.length&&i.length>h},isLengthInRange:function(i,h,j){return !!j&&j.length&&j.length>=i&&j.length<=h},isUTF8LengthTooLong:function(h,i){return !!i&&typeof i.lengthInBytes==="function"&&i.lengthInBytes()>h},isInRange:function a(i,h,k,j){if(b.isBlank.test(j)&&k===false){return true}else{if($.isNumeric(j)){var l=parseInt(j,10);if(l<i||l>h){return false}}else{return false}}return true},isGreaterThanOrEqualTo:function e(h,i){if($.isNumeric(i)){var j=parseInt(i,10);return j>=h}else{return false}return true},isWepKey:function d(l,i,h,k){var j=false;switch(l.val()){case"WEP-64":if(i===Number(h.val())){j=/^([0-9A-Fa-f]{10})$/.test(k)}else{j=/^(|[0-9A-Fa-f]{10})$/.test(k)}break;case"WEP-128":if(i===Number(h.val())){j=/^([0-9A-Fa-f]{26})$/.test(k)}else{j=/^(|[0-9A-Fa-f]{26})$/.test(k)}break}return j},isIPAddress:function(l,m){var k=RAINIER.util.parseIPAddress(l);if(/^\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/.test(k)){if(k==="127.0.0.1"||k==="255.255.255.255"){return false}else{var h=k.split(".");for(var j=0;j<h.length;j++){if(h[j]<0||h[j]>255){return false}}if(!m){if(Number(h.join(""))===0||Number(h[0])<1||Number(h[0])>254){return false}else{return true}}else{return true}}}else{return false}},isIPv6Address:function(r){var h=0,q=-1,n=false,p=false,o=false,m=0,k=16;while(true){var l;if(r.charAt(m)===":"){m++;if((r.charAt(m))===":"){if(q!==-1){break}n=true;q=h;m++}else{if(h===0){break}n=false}}l=m;while(/[0-9A-Fa-f]{1}/.test(r.charAt(m))){m++}if(m>r.length){break}else{if(r.charAt(m)==="."){o=b.isIPAddress(r.substr(l));if(!o){break}if((h+4)>k){break}h+=4;p=true;n=true;break}else{if(r.charAt(m)!==":"||m-l===0){p=true}}}if(m-l>4){break}if(l>=r.length){break}else{if(/[0-9A-Fa-f]{1}/.test(r.charAt(l))){if((h+2)>k){break}h+=2;n=true}}if(p){break}}if(p&&n&&h>0){if(o||m===r.length){if(q!==-1&&h<k){return true}else{if(q===-1&&h===k){return true}}}}return false},isMACAddress:function(l){var m="";if(l.is("div")){var n=RAINIER.binder.fromDom(l.parent()),p=$("input:focus");if(p&&p.val&&p.val()){var k=p.val().toUpperCase();if(k.length===2){p.val(k)}}m=RAINIER.util.getObjVal(n,l.attr("name"))}else{m=l.val()}if(/([0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}/.test(m)){if(m==="00:00:00:00:00:00"){return false}var j=m.replace(/([0-9A-Fa-f]{2}):([0-9A-Fa-f]{2}:){4}[0-9A-Fa-f]{2}/,"$1"),o=parseInt(j,16).toString(2),i=o.substr(o.length-1);if(i==="1"){return false}var h=j.substr(j.length-1).toUpperCase();if(h!=="0"&&h!=="2"&&h!=="4"&&h!=="6"&&h!=="8"&&h!=="A"&&h!=="C"&&h!=="E"){return false}if(!l.is("div")){l.val(m.toUpperCase())}return true}else{return false}},isValidForSubnet:function(k,h){var j=(k&h)>>>0,i=(~h|j)>>>0;return k!==j&&k!==i},isHostValidForGivenRouterIPAddressAndSubnetMask:function(h,n,l){var j=RAINIER.util.dot2num(h),m=RAINIER.util.dot2num(n),k=RAINIER.util.dot2num(l),i=(j&k)>>>0,o=(m&k)>>>0;if(i!==o){return false}else{return RAINIER.ui.validation.tests.isValidForSubnet(j,k)}},isRouterIPAddress:function(n,l){if(b.isIPAddress(n,false)){var m=RAINIER.util.parseIPAddressToArray(n),k=RAINIER.util.parseIPAddressToArray(l);if($.isNumeric(m[0])&&$.isNumeric(m[1])&&$.isNumeric(m[2])&&$.isNumeric(m[3])&&$.isNumeric(k[0])&&$.isNumeric(k[1])&&$.isNumeric(k[2])&&$.isNumeric(k[3])){var j=parseInt(m[0],10),h=RAINIER.util.dot2num(n),i=RAINIER.util.dot2num(l);return(j>=1&&j<=223&&RAINIER.ui.validation.tests.isValidForSubnet(h,i))}else{return false}}else{return false}},isSubnetMask:function(l,i,h){var k=RAINIER.util.parseIPAddressToArray(l);if(typeof i==="undefined"){i=8}else{if(i<1||i>31){return false}}if(typeof h==="undefined"){h=30}else{if(h<1||h>31){return false}}if(h<i){return false}if($.isNumeric(k[0])&&$.isNumeric(k[1])&&$.isNumeric(k[2])&&$.isNumeric(k[3])){var n=parseInt(k[0],10),j=RAINIER.util.dot2num(l),m=j.toString(2),o=m.indexOf("0");if(n!==0&&m.length===32&&o>=i&&o<=h){if(m.indexOf("1",o)===-1){return true}}return false}else{return false}},isLastOctet:/^([1-9]|[1-9]\d|1\d{2}|2[0-4]\d|25[0-4])$/,isDomainOrIpAddress:/^.+\..+$/,isNotHostName:/[^a-zA-Z0-9-]+|^-|-$/,isEmail:validation.rule.email.fn,matchAnotherInput:function(i,h){return h===i.val()},isWpaPassword:function(i){var h=true;if(i.length===64){h=/^([0-9A-Fa-f]{64})$/.test(i)}return h},isWpsPin:function(i){var h=false;if(i.length===4||i.length===8||i.length===9){if(i.length===9){h=/^([0-9]{4}[\ \u002d\u00ad\u058a\u05be\u2010\u2011\u2012\u2013\u2014\u2015\u301c\u3030\ufe58\ufe63\uff0d][0-9]{4})$/.test(i)}else{h=/^([0-9])+$/.test(i)}}return h},doesRangeOverlap:function(k,i,j,h){return k<=h&&j<=i},doPortRangesOverlap:function(h,p,m,o){var n={UDP:true,TCP:true,BOTH:true},l;delete b.doPortRangesOverlap.conflict;function k(i){if(typeof i!=="string"||!n[i.toUpperCase()]){throw"protocol is invalid: "+i}return i.toUpperCase()}o=k(o);if(m===undefined){m=p}for(var j=0;j<h.length;j++){l=k(h[j].protocol);if(!((l==="UDP"&&o==="TCP")||(l==="TCP"&&o==="UDP"))){if(b.doesRangeOverlap(p,m,h[j].first,(h[j].last===undefined)?h[j].first:h[j].last)){b.doPortRangesOverlap.conflict={first:p,last:m,protocol:o,range:h[j],rangeIndex:j};return true}}}return false}},g=function(i){var h="";$.each(i,function(){h+="\\x"+this.lowCodepoint.toString(16).toUpperCase()+"-\\x"+this.highCodepoint.toString(16).toUpperCase()});return h},c=function(h){if(typeof h==="string"){h=$(h)}h.find(".invalid").removeClass("invalid")};return{tests:b,rules:f,concatAllowedCharRanges:g,removeInvalidMarks:c}}()));RAINIER.ui.inputBalloon=(function(){var O=RAINIER.ui.build,I,P=null,p=[],n=[],J="",f=-5,j=12,F=false,k=false,r=null,h=0,l=null,g=null,N=false,t=null;if($.browser.msie){f=10;j=15}function u(){I.append('<div class="tip"></div>')}function L(){if(I){return}I=$(RAINIER.ui.build.DIV({id:"global-balloon","class":"balloon left"}));$("body").append(I[0]);I.click(function(b){H();return $.cancelEvents(b)});I.mouseover(function(){F=true});I.mouseout(function(){F=false});$(window).resize(m);$("#scroll-container").scroll(m.curry(true));RAINIER.event.connect(["applet.loaded","tab.changed","applet.closed","dialog.open","dialog.close"],function(){H(10)})}function a(Q,b){var R;if(b){B(Q,Q.els)}else{R=N;N=true;B(Q,Q.els);N=R}if(b){if(Q.hasErrors){Q.isBlankOkOnBlur=false;Q.originalValue=null;w(Q,Q.hasErrors);Q.wasInvalid=true;Q.els[0].focus();y(Q,true)}return !Q.hasErrors}else{return !K(Q)}}function K(R){var b=false,Q=$(this),S;R.els.each(function(){Q=$(this);S=Q.val();if(M(R,S,Q)||v(R,S,Q)){b=true}if(b){return false}});return b}function M(S,T,R){var V=S.errors||[],b=false,U;for(var Q=0;Q<V.length;Q++){U=V[Q];b=x(U.test,U.when,T,R,U);if(b){break}}return b}function v(S,T,R){var U=S.required||[],b=false;for(var Q=0;Q<U.length;Q++){b=!x(U[Q].test,U[Q].when,T,R,U[Q]);if(b){break}}return b}function w(b,R){var Q=b;if(b.els){if(b.hasImmediateError&&b.elContainer){b.elContainer.removeClass("invalid");Q=b.els}else{Q=(b.elContainer?b.elContainer:b.els)}}if(Q.length>0&&Q[0].type==="checkbox"){Q=Q.parent().parent().find('[for="'+Q[0].id+'"]')}if(R){Q.addClass("invalid")}else{Q.removeClass("invalid");if(b.els){b.els.removeClass("invalid")}}}function q(S,b){var R=S.els,U=R.val(),V=R[0].id;var Q=U==="";if((U===S.originalValue||Q)&&S.isBlankOkOnBlur&&b){w(S,false);c(S);return}p.forEach(function(X){if(G(X)&&(!!X.elCompareTo)&&X.elCompareTo[0].id===V){var W=X.els.val();if(X.wasInvalid||S.wasInvalid){w(X,M(X,W,X.els));X.wasInvalid=true;X.originalValue=null}}});B(S,R);if(S.isChecklist&&!Q){s(S,R,U,!k)}if(!S.hasErrors){if(!S.isChecklist){c(S)}w(S,false)}else{var T=S.wasInvalid||S.hasImmediateError||(b&&!(S.isBlankOkOnBlur&&Q));if(T){S.originalValue=null;y(S,!k,"debug");S.wasInvalid=true}w(S,T)}}function s(R,Q,S,b){var T=R.required||[],U=R.suggested||[];if(!R.hasErrors){T.forEach(function(V){V.el.toggleClass("isValid",x(V.test,V.when,S,V.el,V))});U.forEach(function(V){V.el.toggleClass("isValid",x(V.test,V.when,S,V.el,V))});I.html(R.balloonContent);u();y(R,b)}}function B(S,R){var W=S.errors||[],Q=false,U=R.val(),V;var T=false;for(var b=0;b<W.length;b++){V=W[b];Q=x(V.test,V.when,U,R,V);if(Q){if(V.immediateError){T=true}if(!N){I.html(O.DIV({"class":"flow"},[O.SPAN({"class":"icon warning"}),O.SPAN({"class":"msg"},V.message)]));u()}break}}S.hasErrors=Q;S.hasImmediateError=T}function x(U,b,T,R,Q){var S;if(!U.test&&typeof U==="function"){S=b===U.call(Q,T,R)}else{if(typeof U.test==="function"){S=b===U.test(T)}else{console.warn("test is invalid")}}return S}function y(R,b){var Q=(R.elContainer&&!R.hasImmediateError)?R.elContainer:$(R.els[0]);if(!Q||Q.length===0){return}if(Q[0].type==="checkbox"){Q=$(Q.parent().parent().find('[for="'+Q[0].id+'"]'))}P=R;if(g){RAINIER.util.closeTimer(g)}g=setTimeout(function(){t=Q;RAINIER.ui.tooltip.setLocation(true,I,Q,f,j);if(b){I.stop().css("opacity",1).show()}else{I.stop().fadeIn()}RAINIER.util.closeTimer(g);if(R.autoHide){H(7000)}},100)}function m(b){if(I.is(":visible")){RAINIER.ui.tooltip.setLocation(true,I,t,f,j,b)}}function c(b){if(P===b){H();w(b,false);return}}function H(b){P=null;if(!I){return}if(b){RAINIER.util.closeTimer(l);if(b>0){l=setTimeout(function(){H()},b)}}else{RAINIER.util.closeTimer(g);RAINIER.util.closeTimer(l);t=null;I.fadeOut()}F=false}function A(b){var S=b.required||[],T=b.suggested=b.suggested||[],Q=[],R;b.isChecklist=(S.length&&T.length);S.forEach(function(U){if(b.isChecklist){R=O.DIV({"class":"required flow"},[O.SPAN({"class":"icon"}),O.SPAN({"class":"msg"},[O.SPAN(U.message),O.SPAN({"class":"comment"},RAINIER.ui.validation.strings.requiredChar)])])}else{R=O.DIV({"class":"required flow"},[O.SPAN({"class":"icon"}),O.SPAN({"class":"msg"},U.message)])}Q.push(R);U.el=$(R)});T.forEach(function(U){R=O.DIV({"class":"suggested flow"},[O.SPAN({"class":"icon"}),O.SPAN({"class":"msg"},U.message)]);Q.push(R);U.el=$(R)});if(b.isChecklist){R=O.DIV({"class":"divider"},[O.SPAN({"class":"comment"},RAINIER.ui.validation.strings.requiredChar),O.SPAN(RAINIER.ui.validation.strings.required)]);Q.push(R)}return Q}function D(b){if(typeof b!=="object"){return false}if(b.elContainer&&typeof b.elContainer==="string"){b.elContainer=$(b.elContainer)}if(!b.els){if(b.elContainer){b.els=b.elContainer.children()}else{return false}}else{if(typeof b.els==="string"){b.els=$(b.els)}}if(typeof b.maxLen==="number"){b.els.each(function(){$(this).attr("maxlength",b.maxLen)})}if(typeof b.els.selector!=="string"){return false}return true}function d(Q,b){L();function S(Y){var Z=["wasInvalid","hasErrors","isBlankOkOnBlur","originalValue"];Y.els.addClass("val-el");p.push(Y);if(!!Y.balloonContent){I.html(Y.balloonContent);u()}else{Y.balloonContent=A(Y)}Y.isValid=function(ab){return a(Y,ab)};Y.isBlankOkOnBlur=RAINIER.util.fixNoE(Y.isBlankOkOnBlur,true);Y.add=d.curry(Y);Y.show=y;Y.hide=H;Y.hasErrors=false;Y.originalValue=Y.els.val();Y.wasInvalid=false;var W={};RAINIER.util.copyProps(W,Y,Z);if(Y.groupContainer&&!n.contains(Y.groupContainer)){n.push(Y.groupContainer);$(Y.groupContainer).find("input[type=text], input[type=radio], input[type=checkbox], select").focus(function(){E(Y.groupContainer)})}Y.enable=function(ab){ab=RAINIER.util.fixNoE(ab,true);if(!ab){c(Y)}Y.els[ab?"on":"off"]({focus:X,keyup:U,blur:aa,change:V});Y.enabled=ab;RAINIER.util.disable(Y.els,!ab)};Y.disable=function(ab){ab=RAINIER.util.fixNoE(ab,true);return Y.enable(!ab)};Y.enable(!Y.els.prop("disabled"));function aa(ab){r=ab.type;if(!Y.isComposite){if(!F){q(Y,true)}k=false}}function V(ab){r=ab.type;if(!Y.isComposite){q(Y,false);k=false}}Y.reset=function(ab){RAINIER.util.copyProps(Y,W,Z);if(ab){Y.els.val(Y.originalValue)}w(Y,false)};function U(ac){r=ac.type;if(!Y.isComposite){k=RAINIER.util.isKey(ac,RAINIER.util.keys.tab);if(I.is(":visible")&&!Y.isValid()){Y.originalValue=null;y(Y,!k);Y.wasInvalid=true;w(Y,true)}if(ac.altKey){var ab=setTimeout(function(){q(Y,false);clearTimeout(ab)},500)}else{if(RAINIER.util.isTextChangeKey(ac)){q(Y,false)}}return true}}function X(ab){if(r!==null&&r!=="focus"&&ab.type==="focus"){return}r=ab.type;if(Y.isComposite){if(!Y.isValid()){H()}}else{if(Y.clearOnFocus){w(Y,false);H();Y.clearOnFocus=false}if(Y.isComposite&&(k||(Y.elContainer.find(":first-child").is(Y.els)&&Y.originalValue===Q.els.val()))){ab.target.select()}if(t!==null&&ab.target!==t){H()}q(Y,false);k=false}}}if(D(Q)){Q.valItems=[];if(!Q.group){Q.group=Q.isComposite?"comp"+(h++):"default"}Q.isValid=function(W){var V=true;for(var U=0;U<Q.valItems.length;U++){V=V&&Q.valItems[U].isValid(W&&V)}return V};var T=$.extend({},Q);R(Q.els);Q.els.find(":not(.val-el)").on({focus:function(){R(Q.els.find(":not(.val-el"))}})}if(!!b){y(Q,true)}function R(U){U.each(function(W,X){var V=$.extend({},T);V.els=$(X);S(V);Q.valItems.push(V)})}Q.enable=function(U){U=RAINIER.util.fixNoE(U,true);Q.els.each(function(){i($(this),U)})};Q.reset=function(U){Q.els.each(function(){var V=this;p.forEach(function(W){if(V===(W.els[0])){W.reset(!!U)}})})};Q.disable=function(U){U=RAINIER.util.fixNoE(U,true);Q.enable(!U)};Q.message=function(U){I.html(O.DIV([O.SPAN({"class":U["class"]}),O.SPAN(U.message)],true));u();y(Q,true)};return Q}function E(b){if(J!==b){n.forEach(function(Q){if(Q!==b){w($(Q).find(".invalid"),false);c(Q)}})}J=b}function G(b){return(b.enabled&&(b.validateDisabled||!b.els.is(":disabled")))}function o(Q){if(!Q){Q="default"}var b=true;N=false;p.forEach(function(S){if(G(S)&&S.group===Q){var R=S.isValid();S.wasInvalid=true;w(S,!R);S.originalValue=null;S.isBlankOkOnBlur=false;if((!R)&&b){N=true;b=false;if(S.els[0].type!=="checkbox"){S.els[0].focus()}y(S,true)}}});N=false;return b}function C(Q,b){if(!Q){Q="default"}p.forEach(function(R){if(R.group===Q){R.reset(!!b)}})}function i(b,Q){Q=RAINIER.util.fixNoE(Q,true);$(b).each(function(){var R=this;p.forEach(function(S){if(R===(S.els[0])){S.enable(Q)}})})}function e(b,Q){Q=RAINIER.util.fixNoE(Q,true);i(b,!Q)}function z(b){I.html(O.DIV({"class":"flow"},[O.SPAN({"class":"icon warning"}),O.SPAN({"class":"msg"},b)]))}return{init:L,add:d,show:y,hide:H,build:A,validate:o,enable:i,disable:e,reset:C,setBalloonError:z,message:function(Q){var b=RAINIER.ui.inputBalloon.add({els:Q.els,clearOnFocus:true,hasErrors:Q.hasErrors,autoHide:!!Q.autoHide,balloonContent:O.DIV({"class":"flow"},[O.SPAN({"class":RAINIER.util.fixNoE(Q["class"],"icon warning")}),O.SPAN({"class":"msg"},Q.message)],true)},true);w(b,Q.hasErrors);return b}}}());RAINIER.ui.buildInputValidBalloon=(function(){var a=RAINIER.ui.validation.tests,c=RAINIER.ui.validation.rules,e=RAINIER.ui.validation.strings;var d={numeric:"0-9",alpha:"a-zA-Z0-9",ascii:"\x20-\x7E",hex:"a-fA-F0-9",domainName:"a-zA-Z0-9.-",storageUserName:"a-zA-Z0-9_-",vpnUserName:"a-zA-Z0-9@_.-",shareUserName:"a-zA-Z0-9 -"};function f(h,g,i){return(h===g?"":h+"-")+g+" "+(i==="numeric"?e.digit:e.characters)}function b(g){var i={ascii:"ascii",hex:"hex",integer:"numeric"},h={min:"minVal",max:"maxVal",required:"isRequired",minLength:"minLen",maxLength:"maxLen",noSurroundWhitespace:"whiteSpace",ascii:"validCharSet",hex:"validCharSet",integer:"validCharSet"};g=lodash.mapValues(g,function(k,j){if(j==="noSurroundWhitespace"){k=!k}return(i[j]&&k)?i[j]:k});return lodash.mapKeys(g,function(k,j){return h[j]||j})}return function(g){g=b(g);var i=$.extend({els:g.els,errors:[],required:[],suggested:[],isRequired:(g.type!=="checked")&&!!g.isRequired,groupContainer:g.groupContainer},g);function h(m,k){var j="";function l(){j=m.val();if(RAINIER.shared.util.lengthInBytes(j)>k){m.val(RAINIER.shared.util.truncateToMaxBytes(j,k))}}m.keyup(l);m.blur(l)}if(i.isRequired){i.errors.push({test:a.isBlank,when:true,message:e.inputIsRequired})}if(g.validCharSet){if(d[g.validCharSet]){i.errors.unshift({test:new RegExp("[^"+d[g.validCharSet]+"]+"),when:true,message:g.message||e.invalidCharacters,immediateError:true})}else{i.errors.unshift({test:new RegExp("[^"+g.validCharSet+"]+"),when:true,message:g.message||e.invalidCharacters,immediateError:true})}}if(g.whiteSpace===false){i.errors.push(c.leadingWhitespace());i.errors.push(c.trailingWhitespace())}switch(g.validationType){case"email":i.errors.push({test:a.isEmail,when:false,message:e.invalidEmailAddress});break;case"confirmEmail":i.errors.push({test:a.matchAnotherInput.curry(g.elCompareTo),when:false,message:e.emailDoesNotMatch});break;case"password":i.required.push({test:a.isLengthInRange.curry(g.minLen,g.maxLen),when:true,message:f(g.minLen,g.maxLen,g.validCharSet)});i.suggested.push(c.alpha());i.suggested.push(c.numeric());break;case"confirmPassword":i.errors.push({test:a.matchAnotherInput.curry(g.elCompareTo),when:false,message:e.passwordDoesNotMatch});break;case"utf8LengthTooLong":h(g.els,g.maxLen);i.errors.push({test:a.isUTF8LengthTooLong.curry(g.maxLen),when:true,message:e.tooManyCharacters});break;case"ipAddress":i.errors.push({test:a.isIPAddress.curry(g.elContainer,g.allowZeroes),when:false,message:e.invalidIPAddress});break;case"ipv6Address":i.errors.push(c.leadingWhitespace());i.errors.push(c.trailingWhitespace());i.errors.push({test:a.isIPv6Address,when:false,message:e.invalidIPv6Address});break;case"routerIPAddress":i.errors.push({test:a.isRouterIPAddress.curry(g.elContainer,g.elInputSubnetMask),when:false,message:e.invalidIPAddress});break;case"subnetMask":i.errors.push({test:a.isSubnetMask.curry(g.elContainer,g.minNetworkPrefixLength,g.maxNetworkPrefixLength),when:false,message:e.invalidSubnetMask});break;case"macAddress":i.errors.push({test:a.isMACAddress.curry(g.elContainer),when:false,message:e.invalidMACAddress});break;case"lastOctet":i.errors.push({test:a.isLastOctet,when:false,message:e.invalidLastOctet});break;case"validHost":i.errors.push({test:a.isIPAddress.curry(g.elContainer,g.allowZeroes),when:false,message:e.invalidIPAddress});i.errors.push({test:a.isHostValidForGivenRouterIPAddressAndSubnetMask.curry(g.elContainer,g.elInputRouterIPAddress,g.elInputSubnetMask),when:false,message:e.invalidIPAddressSubnet});break;case"domainOrIpAddress":i.errors.push({test:a.isDomainOrIpAddress,when:false,message:e.invalidDomainOrIpAddress});break;case"hostName":i.errors.push({test:a.isNotHostName,when:true,message:e.invalidCharacters});break;case"checked":i.isRequired=false;i.errors.push({test:function(){return i.els.attr("checked")==="checked"},when:false,message:g.message});break;default:if(typeof g.minLen==="number"&&typeof g.maxLen==="number"&&typeof g.validCharSet==="string"){i.errors.push({test:a.isLengthInRange.curry(g.minLen,g.maxLen),when:false,message:f(g.minLen,g.maxLen,g.validCharSet)})}else{if(typeof g.minLen==="number"&&typeof g.maxLen==="number"){i.errors.push({test:a.isLengthInRange.curry(g.minLen,g.maxLen),when:false,message:f(g.minLen,g.maxLen)})}else{if(typeof g.maxLen==="number"){i.errors.push({test:a.isLengthTooLong.curry(g.maxLen),when:true,message:e.tooManyCharacters})}}}if(typeof g.minVal==="number"&&typeof g.maxVal==="number"){i.errors.push({test:function(j){return a.isInRange(g.minVal,g.maxVal,g.isRequired,j)},when:false,message:RAINIER.util.outOfRangeMessage(g.minVal,g.maxVal)})}else{if(typeof g.minVal==="number"){i.errors.push({test:a.isGreaterThanOrEqualTo.curry(g.minVal),when:false,message:e.outOfRange})}}}return RAINIER.ui.inputBalloon.add(i)}}());RAINIER.ui.addCSS=function(b){var a=document.createElement("style");a.type="text/css";if(a.styleSheet){a.styleSheet.cssText=b}else{a.appendChild(document.createTextNode(b))}document.getElementsByTagName("head")[0].appendChild(a)};RAINIER.ui.placeholders=(function(){function a(){var b=$("input[type=password][placeholder], input[type=text][placeholder]"),c=RAINIER.ui.getDirection()==="ltr";RAINIER.util.whenReady("Styles Loaded",function(){b.each(function(d,e){if($(e).width()<10){return null}return true});return true},function(){var f=RAINIER.ui.isSmallWindow(),m=0,l=0.8,s=RAINIER.browser.browser==="ie",h=s&&$.browser.version>=10,q=RAINIER.browser.browser==="firefox",o=RAINIER.browser.browser==="ipad",w=RAINIER.browser.browser==="android",j=RAINIER.browser.browser==="edge",g=RAINIER.browser.browser==="chrome",u=RAINIER.browser.browser==="safari",k=((s||o||w||j)&&!f);function p(E,C,B){try{var D=$(E),F=D.val(),y=240;if(E.type==="password"){if(g||u){F="-".repeat(F.length)}if(u&&RAINIER.browser.safariVersion>=9){F="*".repeat(F.length)}if(j||q||s||o){F="H".repeat(F.length)}}var z=RAINIER.util.getTextLength(F,E);if(s||j){var G=RAINIER.util.getTextLength(C,B);if($.browser.version>=11&&E.type==="text"){G+=20}B.html(((y-z-G)>0)?C:"")}else{B.css("visibility",((y-z-RAINIER.util.getTextLength(C,E))>0)?"visible":"hidden")}if(k){if(D.val().trim()!==""){B.css("text-align",c?"right":"left");if(h){B.css(c?"padding-right":"padding-left","20px")}else{if(j){B.css(c?"margin-right":"margin-left","25px")}}}else{B.css("text-align",c?"left":"right");if(h){B.css(c?"padding-right":"padding-left","0")}else{if(j){B.css(c?"margin-right":"margin-left","0")}}}}}catch(A){}}b.each(function(A,B){var y=$(B),D=y.attr("skipLabel"),z=y.attr("placeholder"),C=$("<label>");C.attr("for",B.id);C.html(z);if(f){if(!D||D==="false"){C.insertBefore(B)}y.attr("placeholder","");$(B.parentNode).addClass("no-place-holder")}else{if(!D||D==="false"){C.insertAfter(B)}$(B.parentNode).addClass("place-holder");m=Math.max(RAINIER.util.getTextLength(z,B)/240,m);if(k&&!j){y.attr("placeholder","")}y.on({"click keyup mouseup":function(){setTimeout(function(){y.focus();p(B,z,C)},0)}})}});if(!f&&m>l){var i=q?11:12,e=q?7:8,x=Math.max(Math.round(i*l/m),e),d=x+"px",v=parseInt("c5",16),r=parseInt("73",16),n="#"+Math.floor(v-(v-r)*(i-x)/(i-e)).toString(16).repeat(3);$(".place-holder").each(function(z,y){$(y).find("label").css("font-size",d).css("color",n)});if(!s||h){var t=q?":-moz-placeholder":(h?"input:-ms-input-placeholder":"input::-webkit-input-placeholder");RAINIER.ui.addCSS(t+" { font-size: "+d+" !important; color: "+n+"!important }")}}$(b.get().reverse()).each(function(y,z){$(z).keyup()})},true)}return{init:a}}());RAINIER.ui.textAreaPlaceholder=(function(){function a(){var b=$("textarea[placeholder]"),c=RAINIER.browser.browser==="ie";if(!c||(c&&$.browser.version>=10)){return}RAINIER.util.whenReady("Styles Loaded",function(){b.each(function(d,e){if($(e).width()<10){return null}return true});return true},function(){function d(e,f){if($(e).val()){f.hide()}else{f.show()}}b.each(function(g,h){var e=$(h),f=e.attr("placeholder"),i=$("<label>");i.attr("for",h.id);i.html(f);i.insertAfter(h);$(h.parentNode).addClass("place-holder");e.on({"click keyup mouseup":function(){setTimeout(function(){e.focus();d(h,i)},0)}})});$(b.get().reverse()).each(function(e,f){$(f).keyup()})},true)}return{init:a}}());RAINIER.ui.viewPassword=(function(d){var f=d.find('input[type="password"]'),c=d.find('input[type="text"]'),b=d.find("span.viewPassword"),a=d.find("span.hidePassword");function e(i){var h=$(i.target).hasClass("viewPassword"),j=h?f:c,g=h?c:f;b.toggleClass("hidden");a.toggleClass("hidden");RAINIER.ui.inputBalloon.hide();g.val(j.val());j.hide();g.show().blur().focus()}f.on("keyup",function(){if($(this).val()!==""){d.addClass("active");b.removeClass("hidden")}else{d.removeClass("active");b.addClass("hidden")}});c.on("keyup",function(){if($(this).val()!==""){d.addClass("active");a.removeClass("hidden")}else{d.removeClass("active");a.addClass("hidden")}});d.find("input").on("focus",function(){d.addClass("focus")}).on("blur",function(){d.removeClass("focus")});b.on("click",e);a.on("click",e)});RAINIER.ui.initPasswordReveal=function(a){var b=$("<span />");b.addClass("password-reveal-toggle password-reveal-show");b.on("click",function(){if(b.hasClass("password-reveal-show")){b.addClass("password-reveal-hide");b.removeClass("password-reveal-show");a.prop("type","text")}else{b.removeClass("password-reveal-hide");b.addClass("password-reveal-show");a.prop("type","password")}});a.addClass("password-reveal");a.after(b)};RAINIER.ui.applet=(function(){var a=[];function b(d){a.push(d);function c(){RAINIER.ui.MainMenu.launchApplet(d)}return{applet:d,assignClick:function(e){$(e).click(c)},open:c}}return{add:b,applets:a}}());RAINIER.ui.appStoreMenu=RAINIER.ui.applet.add({appletId:"E91E0149-A1D4-450C-9922-82CAA65B16CE",version:"1.0.0.0",name:"APP Store",isFree:true,url:"/ui/dynamic/applets/app_store/main.html"});RAINIER.ui.appMyAccount=RAINIER.ui.applet.add({appletId:"26E3D44A-261C-4C18-B880-83EEA6B1D462",name:"{{My Account}}",isFree:true,description:RAINIER.ui.myAccountStrings.description,version:"1.0.0.0",url:"/ui/dynamic/applets/my_account/main.html"});RAINIER.ui.slideshow=(function(){return function(f){var l=$(f.container);if(l.length!==1){return null}var p=RAINIER.ui.build,t=-1,c,j=[],a=(f.textWidth||340),e=l[0],r=(f.delay||7)*1000,k=p.DIV({"class":"slide-back"}),i=p.DIV({"class":"slide-next"}),q=p.DIV({"class":"slide-center"}),s=p.DIV({"class":"slide-lights"}),h=p.DIV({"class":"slide-footer"},[s]),m=p.DIV({"class":"slide-caption"},f.caption),d=p.DIV({"class":"slide-panel"},[q,k,i,h,m]);e.appendChild(d);var n=$(s);$(k).click(function(){o(-1)});$(i).click(function(){o()});f.slides.forEach(function(b,D){var B=b.text.replace(/[\{\}]/g,""),R=p.DIV({"class":"slide-image"}),x=p.SPAN(),u=p.DIV({"class":"slide-text",innerHTML:"<p>/</p>"}),I=$(u),N=[];var C=-251*D;$(R).css("background-position","0px "+C+"px");var E={elImage:$(R),elTextDiv:I,elLight:$(x)};g(E,true);q.appendChild(R);q.appendChild(u);var J=I.find("p"),y=RAINIER.util.getTextLength("i\u00a0i",J)-RAINIER.util.getTextLength("ii",J),M=B.split(" "),z=0,L=false;M.forEach(function(S){var U=S.indexOf("<em>"),W=S.indexOf("</em>"),T=(U>0||L)&&W<0;if(T){S+="</em>"}if(U!==0&&L){S="<em>"+S}var V=RAINIER.util.getTextLength(S,J);N.push(V);z+=V;L=T});z+=(M.length-1)*y;var v=Math.min(Math.ceil(z/155),4),Q=[],H=0,A=Math.min(Math.ceil(z/v),a);if(A===a){v=Math.ceil(z/A)}for(var w=0;w<v;w++){Q[w]=[];var O=0,K=0,P=false;do{P=false;if(H<M.length){if(Q[w].length===0){K=N[H];P=true}else{K=O+N[H]+y;if(K>A+75){P=O<85}else{if(K>A){if(H===M.length-1){P=w===v-1}else{if(O<85||K+N[H+1]+y<A+75){P=true}else{P=false}}}else{P=true}}}}if(P){O=K;Q[w].push(M[H]);H++}}while(P)}if(H<M.length){v++;Q[v]=[];while(H<M.length){Q[v].push(M[H]);H++}}var G=[];Q.forEach(function(S){G.push(S.join("\u00a0"))});u.innerHTML="<p>"+G.join("<br/>")+"</p>";s.appendChild(x);if(RAINIER.browser.ieVersion===8){E.elImage.css("background-color","#D0EEFF")}if(b.click){if($.isFunction(b.click)){E.elImage.click(b.click);E.elText.click(b.click)}else{var F=function(){window.top.location.href=b.click};E.elImage.click(F);E.elText.click(F)}}E.elLight.click(function(){o(D)});j.push(E)});$(s).css("width",(((j[0].elLight.width()+RAINIER.util.pxToNum(j[0].elLight.css("margin-left"))+RAINIER.util.pxToNum(j[0].elLight.css("margin-right")))*j.length)+12)+"px");o(0);function o(b){var u=(j.length-1);RAINIER.util.closeTimer(c);n.find("span").removeClass("lit");if(t>-1){g(j[t],true)}t=(RAINIER.util.isNoE(b)?t+1:(b===-1?t-1:b));t=(t<0?u:(t>u?0:t));g(j[t],false);j[t].elLight.addClass("lit");c=setTimeout(o,r)}function g(b,u){[b.elImage,b.elTextDiv].forEach(function(v){if(RAINIER.browser.ieVersion===8){v.css("display",u?"none":"block")}else{v.stop().fadeTo("slow",u?0:1)}})}return{stop:function(){RAINIER.util.closeTimer(c)},start:o}}}());RAINIER.ui.showSlides=(function(){return function(a){var b=RAINIER.ui.slideResources.slideText;RAINIER.ui.slideshow({container:"#slide-show",slides:[{text:b.addDevices},{text:b.guestAccess},{text:b.parentalControls},{text:b.appStore},{text:b.remoteAccess}],caption:a})}}());RAINIER.ui.showLinksysAppContent=function(a){var b=$("#linksys-app-content");if(a){b.find(".caption").html(a)}$("#linksys-app").html(b.html())};$.extend($.expr[":"],{inline:function(b){return $(b).css("display")==="inline"},block:function(b){return $(b).css("display")==="block"}});RAINIER.ui.textOrphan=function(){var a=["h1","h2","h3","h4","p","div","li"],b;function c(e,d,g){if(e.indexOf("<")>-1){return false}var h=e.split(" "),k=0,f=[],j=[],i;if(h.length>6){do{k++;d+=h[h.length-k].length+1}while(k<4&&d<22);if(k>2){k--;i=h.length-k;f=h.slice(0,i);j=h.slice(i);g(f.join(" ")+" "+j.join("\u00a0"))}}return true}$.each(a,function(e,d){$(d+":not(.text-orphan, .no-text-orphans, .no-text-orphans > *, .slide-text p, .check-item, .check-item > div, .word-break, .word-break > *, .row, .row > *, .device-icon-box, .device-icon-box > *, .device-icon)").each(function(){var i=this,h=$(i),g=0,f=$.trim(this.innerHTML);f=f.replace(/\s/g," ");if(!c(f,g,function(j){i.innerHTML=j})){if(h.find("input, select, a, table, div, p, h1, h2, button, ul, li").length===0){$.each(h.contents().get().reverse(),function(){if(this.nodeType===3&&this.nodeValue){f=this.nodeValue.replace(/\s/g," ");b=f.length+g;if(b<22){this.nodeValue=f.replace(/' '/g,"\u00a0")}else{c(f,g,function(j){this.nodeValue=j})}g=b;if(g>=22){return false}}})}}h.addClass("text-orphan")})});$(".form label").each(function(){this.innerHTML=this.innerHTML.replace(/ \:/g,"\u00a0:")})};RAINIER.ui.getDirection=function(){var b=$("html").attr("dir").toLowerCase(),a="ltr";if(b.indexOf("rtl")>-1){a="rtl"}return a};RAINIER.ui.editFormClick=function(a,g,d,f){var c=true;var e=$(a),b=function(){if(RAINIER.util.fixNoE(f,true)){RAINIER.ui.fixIeForm(e)}};$(g).click(function(){var i=!e.hasClass("edit");if(i||!c){e.toggleClass("edit");var h=$(this);if(c){h.addClass("disabled");h.attr("disabled",true)}else{this.innerText=(i?RAINIER.ui.button.strings.cancel:RAINIER.ui.button.strings.edit)}if(d){d(i)}b()}});b()};RAINIER.ui.escapeId=function(a){return a.replace(".","\\.")};RAINIER.ui.isSmallWindow=function(){if(!$("body").hasClass("show-mobile")){return false}var a=$(window);return a.width()<1000||a.height()<500};function forceView(){if(currentTextBox){currentTextBox.parentNode.scrollIntoView()}setTimeout(forceView,200)}if(RAINIER.ui.isSmallWindow()){$("html").addClass("small-window");var currentTextBox=null;$("input[type=text]").focus(function(){currentTextBox=this});$("input[type=text]").blur(function(){if(currentTextBox===this){currentTextBox=null}});forceView()}RAINIER.ui.constrainKeysToEl=(function(){var e=RAINIER.browser.browser==="ie",g;function b(i){var h=!i;setTimeout(function(){var k=$("*:focus"),j;if($(k).parents(g).length===0){j=$(g).find("input:visible, select:visible, button:visible, textarea:visible");if(j.length>0){if(h){j.first().focus()}else{j.last().focus()}}else{$("#focus-fallback").focus()}}},0)}function c(h){if(!h.ctrlKey){var i=(h.keyCode||h.which)===9&&h.shiftKey;b(i)}}function d(h){h=h||window.event;if(e&&(h.keyCode===13||h.which===13)&&($(h.target).parents(g).length===0||!$(h.target).is("button:visible:enabled"))){h.stopPropagation();h.preventDefault();return false}}function f(h){g=h;$(document).bind("keydown",c);$(g).bind("keypress",d);$(document).bind("keypress",d)}function a(){$(document).unbind("keydown",c);$(g).unbind("keypress",d);$(document).unbind("keypress",d)}return{add:f,remove:a}}());RAINIER.ui.shield=(function(){function b(e,f){var d;e.each(function(g,i){var h=$(i);if(h.css("position")!=="relative"){if(f){h.css("position","relative")}else{}}d=h.find(".shield");if(!d.length){h.append('<div class="shield"></div>')}})}function c(d){d.each(function(e,f){$(f).find(".shield").remove()})}function a(d,e){if(typeof e==="undefined"){e=(d.find(".shield").length===0)}if(e){b(d)}else{c(d)}}return{raise:b,lower:c,toggle:a}}());RAINIER.ui.clearTbl=function(a){a.find("tr").each(function(b){if(b>0){$(this).remove()}})};RAINIER.ui.testSafeGetScript=function(a){return $.getScript(a)};RAINIER.ui.template=(function(){function a(d){if(typeof d==="string"){d=$(d)}return d.clone()}function c(d,f,e){var g=d.clone();e=e||{};RAINIER.ui.fixCustomControls(g);RAINIER.binder.toDom(f,g,e);return g}function b(d,e,g){var f=c(d,e,g);return f}return{createTemplate:a,createBlock:b}}());